<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>m | succinct, expressive and efficient programming</title>
		<script type = "text/javascript" src="/main.bundle.js"></script>
		<script async defer src="https://buttons.github.io/buttons.js"></script>
		<link rel="stylesheet" href="/simple.css">
		<link rel="stylesheet" href="/style.css">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
	</head>
	<body>
		<header>
		<nav>
			<a href="/">M</a>
			<a class="current">Code</a>
			<a href="/tutorial/general.html">Tutorials</a>
			<a href="/grammar.html">Grammar</a>
			<a id="user">Sign in with Github</a>
			<a class="github-button" href="https://github.com/ligangwang/m" data-color-scheme="no-preference: dark; light: light; dark: dark;" data-icon="octicon-star" aria-label="Star ligangwang/m on GitHub">Star</a>
		</nav>
		</header>

        <nav>
            
<a class="current">general</a>
        </nav>
    </p>
    
    <div style="font-size: small"></div>
    
                <div style="font-size: small;">draw mandelbrot set using linear color function</div>
                <div>
                    <div style="display: inline-block; margin-top: 10px; width: 400px">
                        <textarea id="mandelbrot_set_linear"  rows = "21" style="resize: none; font-size: small">var a:u8[200][300 * 4]
let scale = 0.01
for x in 0..300
    for y in 0..200
        let cx = -2.0 + scale*x
        let cy = -1.0 + scale*y
        var zx = 0.0, zy = 0.0
        var zx2 = 0.0, zy2 = 0.0
        var n = 0
        while n<510 && (zx2 + zy2) < 4.0
            zy = 2.0 * zx * zy + cy
            zx = zx2  - zy2 + cx
            zx2 = zx * zx
            zy2 = zy * zy
            n++
        a[y][4*x] = n < 256 ? 0 : 510 - n
        a[y][4*x+1] = n < 256 ? n : 510 - n
        a[y][4*x+2] = n < 256 ? 0 : 510 - n
        a[y][4*x+3] = 255

setImageData a 300 200</textarea>
                    </div>
                    <div style="display: inline-block; width: 350px"><canvas id="mandelbrot_set_linear_graph_result" style="height: 240px; width: 100%;"></canvas></div>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" data-run="mandelbrot_set_linear" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "mandelbrot_set_linear_result"></div>
                </div>
                
                <div style="font-size: small;">draw mandelbrot set using log color function</div>
                <div>
                    <div style="display: inline-block; margin-top: 10px; width: 400px">
                        <textarea id="mandelbrot_set_nonlinear"  rows = "29" style="resize: none; font-size: small">var a:u8[200][300 * 4]
let scale = 0.01, max_iter = 510
var v = 0.0, r = 0.0, g = 0.0, b = 0.0
for x in 0..300
    for y in 0..200
        let cx = -2.0 + scale*x
        let cy = -1.0 + scale*y
        var zx = 0.0, zy = 0.0
        var zx2 = 0.0, zy2 = 0.0
        var n = 0
        while n<max_iter && (zx2 + zy2) < 4.0
            zy = 2.0 * zx * zy + cy
            zx = zx2  - zy2 + cx
            zx2 = zx * zx
            zy2 = zy * zy
            n++
        if n < max_iter then
            v = (log(n+1.5-(log2((log(zx2+zy2))/2.0))))/3.4
            if v < 1.0 then 
                r = v ** 4;g = v ** 2.5;b = v
            else
                v = v < 2.0 ? 2.0 - v : 0.0
                r = v;g = v ** 1.5;b = v ** 3.0
        a[y][4*x] = n == max_iter ? 0 : (u8)(r * 255)
        a[y][4*x+1] = n == max_iter ? 0 : (u8)(g * 255)
        a[y][4*x+2] = n == max_iter ? 0 : (u8)(b * 255)
        a[y][4*x+3] = 255

setImageData a 300 200</textarea>
                    </div>
                    <div style="display: inline-block; width: 350px"><canvas id="mandelbrot_set_nonlinear_graph_result" style="height: 240px; width: 100%;"></canvas></div>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" data-run="mandelbrot_set_nonlinear" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "mandelbrot_set_nonlinear_result"></div>
                </div>
                
                <div style="font-size: small;">julia set c = -0.79 + 0.15i</div>
                <div>
                    <div style="display: inline-block; margin-top: 10px; width: 400px">
                        <textarea id="julia_set_1"  rows = "30" style="resize: none; font-size: small">let width = 300, height = 200
var a:u8[200][300 * 4]
let scalex = 4.0/300.0, scaley=2.0/200.0, max_iter = 510
var v = 0.0, r = 0.0, g = 0.0, b = 0.0
let cx = -0.79
let cy = 0.15
for x in 0..300
    for y in 0..200
        var zx = -2.0 + scalex * x, zy = -1.0 + scaley * y
        var zx2 = zx * zx, zy2 = zy * zy
        var n = 0
        while n<max_iter && (zx2 + zy2) < 4.0
            zy = 2.0 * zx * zy + cy
            zx = zx2  - zy2 + cx
            zx2 = zx * zx
            zy2 = zy * zy
            n++
        if n < max_iter then
            v = (log(n+1.5-(log2((log(zx2+zy2))/2.0))))/3.4
            if v < 1.0 then 
                r = v ** 4;g = v ** 2.5;b = v
            else
                v = v < 2.0 ? 2.0 - v : 0.0
                r = v;g = v ** 1.5;b = v ** 3.0
        a[y][4*x] = n == max_iter ? 0 : (u8)(r * 255)
        a[y][4*x+1] = n == max_iter ? 0 : (u8)(g * 255)
        a[y][4*x+2] = n == max_iter ? 0 : (u8)(b * 255)
        a[y][4*x+3] = 255

setImageData a 300 200</textarea>
                    </div>
                    <div style="display: inline-block; width: 350px"><canvas id="julia_set_1_graph_result" style="height: 240px; width: 100%;"></canvas></div>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" data-run="julia_set_1" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "julia_set_1_result"></div>
                </div>
                
                <div style="font-size: small;">julia set c = 0.3 - 0.01i</div>
                <div>
                    <div style="display: inline-block; margin-top: 10px; width: 400px">
                        <textarea id="julia_set_2"  rows = "30" style="resize: none; font-size: small">let width = 300, height = 200
var a:u8[200][300 * 4]
let scalex = 4.0/300.0, scaley=3.0/200.0, max_iter = 510
var v = 0.0, r = 0.0, g = 0.0, b = 0.0
let cx = 0.3
let cy = -0.01
for x in 0..300
    for y in 0..200
        var zx = -2.0 + scalex * x, zy = -1.5 + scaley * y
        var zx2 = zx * zx, zy2 = zy * zy
        var n = 0
        while n<max_iter && (zx2 + zy2) < 4.0
            zy = 2.0 * zx * zy + cy
            zx = zx2  - zy2 + cx
            zx2 = zx * zx
            zy2 = zy * zy
            n++
        if n < max_iter then
            v = (log(n+1.5-(log2((log(zx2+zy2))/2.0))))/3.4
            if v < 1.0 then 
                r = v ** 4;g = v ** 2.5;b = v
            else
                v = v < 2.0 ? 2.0 - v : 0.0
                r = v;g = v ** 1.5;b = v ** 3.0
        a[y][4*x] = n == max_iter ? 0 : (u8)(r * 255)
        a[y][4*x+1] = n == max_iter ? 0 : (u8)(g * 255)
        a[y][4*x+2] = n == max_iter ? 0 : (u8)(b * 255)
        a[y][4*x+3] = 255

setImageData a 300 200</textarea>
                    </div>
                    <div style="display: inline-block; width: 350px"><canvas id="julia_set_2_graph_result" style="height: 240px; width: 100%;"></canvas></div>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" data-run="julia_set_2" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "julia_set_2_result"></div>
                </div>
                	<!-----------------footer----------------->
	<footer>
		<label id="version"></label>
		<p>mlang is open sourced under the MIT license.</p>
	</footer>
	</body>
</html>