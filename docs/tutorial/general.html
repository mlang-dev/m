<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>m | succinct, expressive and efficient programming</title>
		<script src="/wasi.js"></script>
		<script src="/mw.js"></script>
		<link rel="stylesheet" href="/simple.css">
		<link rel="stylesheet" href="/style.css">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
	</head>
	<body>
		<header>
		<nav>
			<a href="/">M</a>
			<a class="current">Tutorials</a>
			<a href="/grammar.html">Grammar</a>
			<a href="https://github.com/ligangwang/m"><svg class="icon" viewBox="0 0 32 32">
					<path
						d="M16 0.395c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z">
					</path>
				</svg>Github</a>
		</nav>
		</header>
		<script>
			var instance = null;
			var result_control = null;
			mw(new wasi(), '/mw.wasm', print, true).then(
				result=>{
					instance = result;
					print_version(instance.version);
				}
			);
			function run(code_control) {
				result_control = code_control + "_result";
				clear();
				let code = document.getElementById(code_control).value;
				print(instance.run_code(code));
			}
			
			function print(text){
				if(text == null || text == undefined){
					return;
				}
				document.getElementById(result_control).textContent = text;
			}

			function clear(){
				document.getElementById(result_control).textContent = '';
			}
			function print_version(version) {
				document.getElementById("version").textContent = version;
			}
		</script>

        <nav>
            
<a class="current">general</a>
<a href="/tutorial/bitwise.html">bitwise</a>
<a href="/tutorial/logic.html">logic</a>
<a href="/tutorial/relation.html">relation</a>
<a href="/tutorial/numeric.html">numeric</a>
<a href="/tutorial/control.html">control</a>
<a href="/tutorial/struct.html">struct</a>
<a href="/tutorial/reference.html">reference</a>
        </nav>
    </p>
    <div></div>
    </p>
                <!--<div>hello world</div>-->
                <div>The following is the simple statement to print out string "Hello World !" to the console.</div>
                <div style="margin-top: 10px;">
                    <textarea id="hello_world"  rows = "1" style="resize: none;">print "hello world"</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('hello_world')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "hello_world_result"></div>
                </div>
                
                <!--<div>print utc-8 string</div>-->
                <div>We can print the unicode string.</div>
                <div style="margin-top: 10px;">
                    <textarea id="print_utc-8_string"  rows = "1" style="resize: none;">print "你好"</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('print_utc-8_string')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "print_utc-8_string_result"></div>
                </div>
                
                <!--<div>integer format</div>-->
                <div>Print string with integer format.</div>
                <div style="margin-top: 10px;">
                    <textarea id="integer_format"  rows = "1" style="resize: none;">print "hello %d" 10</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('integer_format')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "integer_format_result"></div>
                </div>
                
                <!--<div>print var</div>-->
                <div>Print a variable's value.</div>
                <div style="margin-top: 10px;">
                    <textarea id="print_var"  rows = "2" style="resize: none;">v = 10
print "hello %d" v</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('print_var')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "print_var_result"></div>
                </div>
                
                <!--<div>print char</div>-->
                <div>Print one character.</div>
                <div style="margin-top: 10px;">
                    <textarea id="print_char"  rows = "1" style="resize: none;">putchar '#'</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('print_char')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "print_char_result"></div>
                </div>
                
                <!--<div>print two int vars</div>-->
                <div>Print the string with multiple integer variables.</div>
                <div style="margin-top: 10px;">
                    <textarea id="print_two_int_vars"  rows = "3" style="resize: none;">v1 = 10
v2 = 20
print "hello %d %d" v1 v2</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('print_two_int_vars')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "print_two_int_vars_result"></div>
                </div>
                
                <!--<div>print float</div>-->
                <div>Print a float variable.</div>
                <div style="margin-top: 10px;">
                    <textarea id="print_float"  rows = "2" style="resize: none;">v = 10.0
print "hello %.2f" v</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('print_float')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "print_float_result"></div>
                </div>
                
                <!--<div>print string, float and int</div>-->
                <div>Print string and int type value using variable. Variable's type is inferred from assignment statements.</div>
                <div style="margin-top: 10px;">
                    <textarea id="print_string__float_and_int"  rows = "4" style="resize: none;">s = "world"
f = 20.0
i = 10
print "hello %s %.2f %d" s f i</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('print_string__float_and_int')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "print_string__float_and_int_result"></div>
                </div>
                
                <!--<div>math.sqrt</div>-->
                <div>This expression is to call C's sqrt function</div>
                <div style="margin-top: 10px;">
                    <textarea id="math_sqrt"  rows = "1" style="resize: none;">sqrt 4.0</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('math_sqrt')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "math_sqrt_result"></div>
                </div>
                
                <!--<div>function definition</div>-->
                <div>Use keyword "let" to define a function. 
The grammar is: "let" IDENT param_decls '=' statement. The following code is to define a square function takes
a double value and outputs its squared double value.</div>
                <div style="margin-top: 10px;">
                    <textarea id="function_definition"  rows = "2" style="resize: none;">let sq x:double = x ** 2.0
sq 10.0</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('function_definition')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "function_definition_result"></div>
                </div>
                
                <!--<div>generic function</div>-->
                <div>If type annotation is omitted from the function, then we are defining a generic function. The type of the function is to be infered 
by how it is being used. Character '#' starts comments until the end of the line.</div>
                <div style="margin-top: 10px;">
                    <textarea id="generic_function"  rows = "2" style="resize: none;">let sq x = x * x  # generic function
sq 10.0</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('generic_function')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "generic_function_result"></div>
                </div>
                
                <!--<div>struct type</div>-->
                <div>You can define struct aggregate type like in C. They behavior the same except more succinct in m.</div>
                <div style="margin-top: 10px;">
                    <textarea id="struct_type"  rows = "3" style="resize: none;">struct Point2D = x:double, y:double
p = Point2D(10.0, 20.0)
print "p.x: %.1f, p.y: %.1f" (p.x) (p.y)</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('struct_type')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "struct_type_result"></div>
                </div>
                
                <!--<div>pass by value</div>-->
                <div>mlang uses pass-by value calling convention to pass arguments to functions. This means the argument value is copied to function's parameter.</div>
                <div style="margin-top: 10px;">
                    <textarea id="pass_by_value"  rows = "7" style="resize: none;">struct Point2D = x:double, y:double
let change z:Point2D = 
    z.x = z.x * 10.0
    z
old_z = Point2D(10.0, 20.0)
new_z = change old_z
print "old_z.x: %.2f, new_z.x: %.2f" (old_z.x) (new_z.x)</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('pass_by_value')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "pass_by_value_result"></div>
                </div>
                	<!-----------------footer----------------->
	<footer>
		<label id="version"></label>
		<p>mlang is created by <a href="https://wangs.dev">Ligang Wang</a> and is licensed under the MIT license.</p>
	</footer>
	</body>
</html>