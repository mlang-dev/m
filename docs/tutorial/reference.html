<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>m | succinct, expressive and efficient programming</title>
		<script src="/wasi.js"></script>
		<script src="/mw.js"></script>
		<link rel="stylesheet" href="/simple.css">
		<link rel="stylesheet" href="/style.css">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
	</head>
	<body>
		<header>
		<nav>
			<a href="/">M</a>
			<a class="current">Tutorials</a>
			<a href="/grammar.html">Grammar</a>
			<a href="https://github.com/ligangwang/m"><svg class="icon" viewBox="0 0 32 32">
					<path
						d="M16 0.395c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z">
					</path>
				</svg>Github</a>
		</nav>
		</header>
		<script>
			var instance = null;
			var result_control = null;
			mw(new wasi(), '/mw.wasm', print, true).then(
				result=>{
					instance = result;
					print_version(instance.version);
				}
			);
			function run(code_control) {
				result_control = code_control + "_result";
				clear();
				let code = document.getElementById(code_control).value;
				print(instance.run_code(code));
			}
			
			function print(text){
				if(text == null || text == undefined){
					return;
				}
				document.getElementById(result_control).textContent = text;
			}

			function clear(){
				document.getElementById(result_control).textContent = '';
			}
			function print_version(version) {
				document.getElementById("version").textContent = version;
			}
		</script>

        <nav>
            
<a href="/tutorial/general.html">general</a>
<a href="/tutorial/operators.html">operators</a>
<a href="/tutorial/control.html">control</a>
<a href="/tutorial/aggregate.html">aggregate</a>
<a class="current">reference</a>
<a href="/tutorial/pattern-match.html">pattern-match</a>
        </nav>
    </p>
    
    <div>Reference type is like pointer in c. The difference is the reference type is not allow to do arithmetic operation. 
You can only use reference type to refer to the other object or pass the reference to functions.</div>
    
                <div>evaluate the content of reference type variable j</div>
                <div style="margin-top: 10px;">
                    <textarea id="evalute_ref_content"  rows = "3" style="resize: none;">let i = 10
let j = &i
*j</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('evalute_ref_content')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "evalute_ref_content_result"></div>
                </div>
                
                <div>change original value by its reference.</div>
                <div style="margin-top: 10px;">
                    <textarea id="change_via_ref"  rows = "4" style="resize: none;">var i = 10
var j = &i
*j = 20
i</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('change_via_ref')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "change_via_ref_result"></div>
                </div>
                
                <div>change original value by its reference. print reference</div>
                <div style="margin-top: 10px;">
                    <textarea id="change_via_ref_2"  rows = "4" style="resize: none;">var i = 10
var j = &i
*j = 20
*j</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('change_via_ref_2')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "change_via_ref_2_result"></div>
                </div>
                
                <div>struct type reference</div>
                <div style="margin-top: 10px;">
                    <textarea id="struct_type_reference"  rows = "3" style="resize: none;">let z = cf64{10.0, 20.0}
let j = &z
j.im</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('struct_type_reference')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "struct_type_reference_result"></div>
                </div>
                
                <div>pass struct data to function by reference</div>
                <div style="margin-top: 10px;">
                    <textarea id="pass_struct_by_ref"  rows = "6" style="resize: none;">struct Point = x:mut f64, y:f64
let update xy:&Point =
    xy.x = 10.0
let z = &Point{100.0, 200.0}
update z
z.x</textarea>
                </div>
                <div>
                    <div style="display: inline-block; margin-right:5px;"><button type="button" onclick="run('pass_struct_by_ref')" style="min-width: 50px;">run</button></div>
                    <div style="display: inline-block; margin-left:5px;" id= "pass_struct_by_ref_result"></div>
                </div>
                	<!-----------------footer----------------->
	<footer>
		<label id="version"></label>
		<p>mlang is created by <a href="https://wangs.dev">Ligang Wang</a> and is open sourced under the MIT license.</p>
	</footer>
	</body>
</html>