/*! For license information please see main.bundle.js.LICENSE.txt */
var m;(()=>{var e={4478:(e,t,n)=>{"use strict";e.exports=function(e,t){e=e||document.body;var n=[.01,1/0];"distanceLimits"in(t=t||{})&&(n[0]=t.distanceLimits[0],n[1]=t.distanceLimits[1]),"zoomMin"in t&&(n[0]=t.zoomMin),"zoomMax"in t&&(n[1]=t.zoomMax);var u=i({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:n}),l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=0,d=e.clientWidth,f=e.clientHeight,p={view:u,element:e,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:u.modes,tick:function(){var t=r(),n=this.delay;u.idle(t-n),u.flush(t-(100+2*n));var i=t-2*n;u.recalcMatrix(i);for(var a=!0,s=u.computedMatrix,o=0;o<16;++o)a=a&&l[o]===s[o],l[o]=s[o];var c=e.clientWidth===d&&e.clientHeight===f;return d=e.clientWidth,f=e.clientHeight,a?!c:(h=Math.exp(u.computedRadius[0]),!0)},lookAt:function(e,t,n){u.lookAt(u.lastT(),e,t,n)},rotate:function(e,t,n){u.rotate(u.lastT(),e,t,n)},pan:function(e,t,n){u.pan(u.lastT(),e,t,n)},translate:function(e,t,n){u.translate(u.lastT(),e,t,n)}};Object.defineProperties(p,{matrix:{get:function(){return u.computedMatrix},set:function(e){return u.setMatrix(u.lastT(),e),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(e){return u.setMode(e),u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(e){return u.lookAt(u.lastT(),e),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(e){return u.lookAt(u.lastT(),null,e),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(e){return u.lookAt(u.lastT(),null,null,e),u.computedUp},enumerable:!0},distance:{get:function(){return h},set:function(e){return u.setDistance(u.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(n)},set:function(e){return u.setDistanceLimits(e),e},enumerable:!0}}),e.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1}));var m=0,v=0,g={shift:!1,control:!1,alt:!1,meta:!1};function y(t,n,i,a){var s=1/e.clientHeight,o=s*(n-m),c=s*(i-v),l=p.flipX?1:-1,d=p.flipY?1:-1,f=Math.PI*p.rotateSpeed,y=r();if(1&t)a.shift?u.rotate(y,0,0,-o*f):u.rotate(y,l*f*o,-d*f*c,0);else if(2&t)u.pan(y,-p.translateSpeed*o*h,p.translateSpeed*c*h,0);else if(4&t){var w=p.zoomSpeed*c/window.innerHeight*(y-u.lastT())*50;u.pan(y,0,0,h*(Math.exp(w)-1))}m=n,v=i,g=a}return a(e,y),e.addEventListener("touchstart",(function(t){var n=o(t.changedTouches[0],e);y(0,n[0],n[1],g),y(1,n[0],n[1],g),t.preventDefault()}),!!c&&{passive:!1}),e.addEventListener("touchmove",(function(t){var n=o(t.changedTouches[0],e);y(1,n[0],n[1],g),t.preventDefault()}),!!c&&{passive:!1}),e.addEventListener("touchend",(function(t){o(t.changedTouches[0],e),y(0,m,v,g),t.preventDefault()}),!!c&&{passive:!1}),s(e,(function(e,t,n){var i=p.flipX?1:-1,a=p.flipY?1:-1,s=r();if(Math.abs(e)>Math.abs(t))u.rotate(s,0,0,-e*i*Math.PI*p.rotateSpeed/window.innerWidth);else{var o=p.zoomSpeed*a*t/window.innerHeight*(s-u.lastT())/100;u.pan(s,0,0,h*(Math.exp(o)-1))}}),!0),p};var r=n(698),i=n(3991),a=n(685),s=n(6846),o=n(675),c=n(6795)},3991:(e,t,n)=>{"use strict";e.exports=function(e){var t=(e=e||{}).eye||[0,0,1],n=e.center||[0,0,0],o=e.up||[0,1,0],c=e.distanceLimits||[0,1/0],u=e.mode||"turntable",l=r(),h=i(),d=a();return l.setDistanceLimits(c[0],c[1]),l.lookAt(0,t,n,o),h.setDistanceLimits(c[0],c[1]),h.lookAt(0,t,n,o),d.setDistanceLimits(c[0],c[1]),d.lookAt(0,t,n,o),new s({turntable:l,orbit:h,matrix:d},u)};var r=n(8786),i=n(809),a=n(7622);function s(e,t){this._controllerNames=Object.keys(e),this._controllerList=this._controllerNames.map((function(t){return e[t]})),this._mode=t,this._active=e[t],this._active||(this._mode="turntable",this._active=e.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=s.prototype;o.flush=function(e){for(var t=this._controllerList,n=0;n<t.length;++n)t[n].flush(e)},o.idle=function(e){for(var t=this._controllerList,n=0;n<t.length;++n)t[n].idle(e)},o.lookAt=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].lookAt(e,t,n,r)},o.rotate=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].rotate(e,t,n,r)},o.pan=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].pan(e,t,n,r)},o.translate=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].translate(e,t,n,r)},o.setMatrix=function(e,t){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setMatrix(e,t)},o.setDistanceLimits=function(e,t){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistanceLimits(e,t)},o.setDistance=function(e,t){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistance(e,t)},o.recalcMatrix=function(e){this._active.recalcMatrix(e)},o.getDistance=function(e){return this._active.getDistance(e)},o.getDistanceLimits=function(e){return this._active.getDistanceLimits(e)},o.lastT=function(){return this._active.lastT()},o.setMode=function(e){if(e!==this._mode){var t=this._controllerNames.indexOf(e);if(!(t<0)){var n=this._active,r=this._controllerList[t],i=Math.max(n.lastT(),r.lastT());n.recalcMatrix(i),r.setMatrix(i,n.computedMatrix),this._active=r,this._mode=e,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},o.getMode=function(){return this._mode}},4444:(e,t,n)=>{"use strict";n.d(t,{$s:()=>R,BH:()=>h,L:()=>a,LL:()=>_,Pz:()=>l,ZR:()=>b,aH:()=>u,b$:()=>m,eu:()=>y,hl:()=>g,m9:()=>O,ne:()=>C,pd:()=>S,q4:()=>c,ru:()=>p,tV:()=>s,uI:()=>f,vZ:()=>T,w1:()=>v,xO:()=>A,xb:()=>M,z$:()=>d,zI:()=>w,zd:()=>k});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],a=t+1<e.length,s=a?e[t+1]:0,o=t+2<e.length,c=o?e[t+2]:0,u=i>>2,l=(3&i)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;o||(d=64,a||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const o=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==s||null==o)throw Error();const c=i<<2|a>>4;if(r.push(c),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},o=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},c=e=>{var t,n;return null===(n=null===(t=o())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},u=()=>{var e;return null===(e=o())||void 0===e?void 0:e.config},l=e=>{var t;return null===(t=o())||void 0===t?void 0:t[`_${e}`]};class h{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){const e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function g(){try{return"object"==typeof indexedDB}catch(e){return!1}}function y(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function w(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?function(e,t){return e.replace(I,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new b(r,s,n)}}const I=/\{\$([^}]+)}/g;function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function T(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(E(n)&&E(a)){if(!T(n,a))return!1}else if(n!==a)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function E(e){return null!==e&&"object"==typeof e}function A(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function k(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function S(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function C(e,t){const n=new x(e,t);return n.subscribe.bind(n)}class x{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function P(){}function R(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function O(e){return e&&e._delegate?e._delegate:e}},3076:e=>{"use strict";function t(e,t,n,r,i){for(var a=i+1;r<=i;){var s=r+i>>>1,o=e[s];(void 0!==n?n(o,t):o-t)>=0?(a=s,i=s-1):r=s+1}return a}function n(e,t,n,r,i){for(var a=i+1;r<=i;){var s=r+i>>>1,o=e[s];(void 0!==n?n(o,t):o-t)>0?(a=s,i=s-1):r=s+1}return a}function r(e,t,n,r,i){for(var a=r-1;r<=i;){var s=r+i>>>1,o=e[s];(void 0!==n?n(o,t):o-t)<0?(a=s,r=s+1):i=s-1}return a}function i(e,t,n,r,i){for(var a=r-1;r<=i;){var s=r+i>>>1,o=e[s];(void 0!==n?n(o,t):o-t)<=0?(a=s,r=s+1):i=s-1}return a}function a(e,t,n,r,i){for(;r<=i;){var a=r+i>>>1,s=e[a],o=void 0!==n?n(s,t):s-t;if(0===o)return a;o<=0?r=a+1:i=a-1}return-1}function s(e,t,n,r,i,a){return"function"==typeof n?a(e,t,n,void 0===r?0:0|r,void 0===i?e.length-1:0|i):a(e,t,void 0,void 0===n?0:0|n,void 0===r?e.length-1:0|r)}e.exports={ge:function(e,n,r,i,a){return s(e,n,r,i,a,t)},gt:function(e,t,r,i,a){return s(e,t,r,i,a,n)},lt:function(e,t,n,i,a){return s(e,t,n,i,a,r)},le:function(e,t,n,r,a){return s(e,t,n,r,a,i)},eq:function(e,t,n,r,i){return s(e,t,n,r,i,a)}}},256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodeJar:()=>i});const r=window;function i(e,t,n={}){const i=Object.assign({tab:"\t",indentOn:/[({\[]$/,moveToNewLine:/^[)}\]]/,spellcheck:!1,catchTab:!0,preserveIdent:!0,addClosing:!0,history:!0,window:r},n),a=i.window,s=a.document;let o,c,u=[],l=[],h=-1,d=!1;e.setAttribute("contenteditable","plaintext-only"),e.setAttribute("spellcheck",i.spellcheck?"true":"false"),e.style.outline="none",e.style.overflowWrap="break-word",e.style.overflowY="auto",e.style.whiteSpace="pre-wrap";let f=!1;t(e),"plaintext-only"!==e.contentEditable&&(f=!0),f&&e.setAttribute("contenteditable","true");const p=x((()=>{const n=w();t(e,n),b(n)}),30);let m=!1;const v=e=>!k(e)&&!S(e)&&"Meta"!==e.key&&"Control"!==e.key&&"Alt"!==e.key&&!e.key.startsWith("Arrow"),g=x((e=>{v(e)&&(T(),m=!1)}),300),y=(t,n)=>{u.push([t,n]),e.addEventListener(t,n)};function w(){const t=N(),n={start:0,end:0,dir:void 0};let{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:o}=t;if(!r||!a)throw"error1";if(r.nodeType===Node.ELEMENT_NODE){const e=s.createTextNode("");r.insertBefore(e,r.childNodes[i]),r=e,i=0}if(a.nodeType===Node.ELEMENT_NODE){const e=s.createTextNode("");a.insertBefore(e,a.childNodes[o]),a=e,o=0}return E(e,(e=>{if(e===r&&e===a)return n.start+=i,n.end+=o,n.dir=i<=o?"->":"<-","stop";if(e===r){if(n.start+=i,n.dir)return"stop";n.dir="->"}else if(e===a){if(n.end+=o,n.dir)return"stop";n.dir="<-"}e.nodeType===Node.TEXT_NODE&&("->"!=n.dir&&(n.start+=e.nodeValue.length),"<-"!=n.dir&&(n.end+=e.nodeValue.length))})),e.normalize(),n}function b(t){const n=N();let r,i,a=0,s=0;if(t.dir||(t.dir="->"),t.start<0&&(t.start=0),t.end<0&&(t.end=0),"<-"==t.dir){const{start:e,end:n}=t;t.start=n,t.end=e}let o=0;E(e,(e=>{if(e.nodeType!==Node.TEXT_NODE)return;const n=(e.nodeValue||"").length;if(o+n>t.start&&(r||(r=e,a=t.start-o),o+n>t.end))return i=e,s=t.end-o,"stop";o+=n})),r||(r=e,a=e.childNodes.length),i||(i=e,s=e.childNodes.length),"<-"==t.dir&&([r,a,i,s]=[i,s,r,a]),n.setBaseAndExtent(r,a,i,s)}function _(){const t=N().getRangeAt(0),n=s.createRange();return n.selectNodeContents(e),n.setEnd(t.startContainer,t.startOffset),n.toString()}function I(){const t=N().getRangeAt(0),n=s.createRange();return n.selectNodeContents(e),n.setStart(t.endContainer,t.endOffset),n.toString()}function M(e){if(f&&"Enter"===e.key)if(O(e),e.stopPropagation(),""==I()){C("\n ");const e=w();e.start=--e.end,b(e)}else C("\n")}function T(){if(!d)return;const t=e.innerHTML,n=w(),r=l[h];r&&r.html===t&&r.pos.start===n.start&&r.pos.end===n.end||(h++,l[h]={html:t,pos:n},l.splice(h+1),h>300&&(h=300,l.splice(0,1)))}function E(e,t){const n=[];e.firstChild&&n.push(e.firstChild);let r=n.pop();for(;r&&"stop"!==t(r);)r.nextSibling&&n.push(r.nextSibling),r.firstChild&&n.push(r.firstChild),r=n.pop()}function A(e){return e.metaKey||e.ctrlKey}function k(e){return A(e)&&!e.shiftKey&&"KeyZ"===e.code}function S(e){return A(e)&&e.shiftKey&&"KeyZ"===e.code}function C(e){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),s.execCommand("insertHTML",!1,e)}function x(e,t){let n=0;return(...r)=>{clearTimeout(n),n=a.setTimeout((()=>e(...r)),t)}}function P(e){let t=e.length-1;for(;t>=0&&"\n"!==e[t];)t--;t++;let n=t;for(;n<e.length&&/[ \t]/.test(e[n]);)n++;return[e.substring(t,n)||"",t,n]}function R(){return e.textContent||""}function O(e){e.preventDefault()}function N(){var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.nodeType)==Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.getSelection():a.getSelection()}return y("keydown",(t=>{t.defaultPrevented||(c=R(),i.preserveIdent?function(e){if("Enter"===e.key){const t=_(),n=I();let[r]=P(t),a=r;if(i.indentOn.test(t)&&(a+=i.tab),a.length>0?(O(e),e.stopPropagation(),C("\n"+a)):M(e),a!==r&&i.moveToNewLine.test(n)){const e=w();C("\n"+r),b(e)}}}(t):M(t),i.catchTab&&function(e){if("Tab"===e.key)if(O(e),e.shiftKey){const e=_();let[t,n]=P(e);if(t.length>0){const e=w(),r=Math.min(i.tab.length,t.length);b({start:n,end:n+r}),s.execCommand("delete"),e.start-=r,e.end-=r,b(e)}}else C(i.tab)}(t),i.addClosing&&function(e){const t="([{'\"",n=")]}'\"",r=I(),i=_(),a="\\"===i.substr(i.length-1),s=r.substr(0,1);if(n.includes(e.key)&&!a&&s===e.key){const t=w();O(e),t.start=++t.end,b(t)}else if(t.includes(e.key)&&!a&&("\"'".includes(e.key)||[""," ","\n"].includes(s))){O(e);const r=w(),i=r.start==r.end?"":N().toString();C(e.key+i+n[t.indexOf(e.key)]),r.start++,r.end++,b(r)}}(t),i.history&&(function(t){if(k(t)){O(t),h--;const n=l[h];n&&(e.innerHTML=n.html,b(n.pos)),h<0&&(h=0)}if(S(t)){O(t),h++;const n=l[h];n&&(e.innerHTML=n.html,b(n.pos)),h>=l.length&&h--}}(t),v(t)&&!m&&(T(),m=!0)),f&&b(w()))})),y("keyup",(e=>{e.defaultPrevented||e.isComposing||(c!==R()&&p(),g(e),o&&o(R()))})),y("focus",(e=>{d=!0})),y("blur",(e=>{d=!1})),y("paste",(n=>{T(),function(n){O(n);const r=(n.originalEvent||n).clipboardData.getData("text/plain").replace(/\r/g,""),i=w();C(r),t(e),b({start:Math.min(i.start,i.end)+r.length,end:Math.min(i.start,i.end)+r.length,dir:"<-"})}(n),T(),o&&o(R())})),{updateOptions(e){Object.assign(i,e)},updateCode(n){e.textContent=n,t(e)},onUpdate(e){o=e},toString:R,save:w,restore:b,recordHistory:T,destroy(){for(let[t,n]of u)e.removeEventListener(t,n)}}}},5663:(e,t,n)=>{"use strict";function r(e,t={}){const n=Object.assign({class:"codejar-linenumbers",wrapClass:"codejar-wrap",width:"35px",backgroundColor:"rgba(128, 128, 128, 0.15)",color:""},t);let r;return function(t){e(t),r||(r=function(e,t){const n=getComputedStyle(e),r=document.createElement("div");r.className=t.wrapClass,r.style.position="relative";const i=document.createElement("div");i.className=t.class,r.appendChild(i),i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.bottom="0px",i.style.width=t.width,i.style.overflow="hidden",i.style.backgroundColor=t.backgroundColor,i.style.color=t.color||n.color,i.style.setProperty("mix-blend-mode","difference"),i.style.fontFamily=n.fontFamily,i.style.fontSize=n.fontSize,i.style.lineHeight=n.lineHeight,i.style.paddingTop=n.paddingTop,i.style.paddingLeft=n.paddingLeft,i.style.borderTopLeftRadius=n.borderTopLeftRadius,i.style.borderBottomLeftRadius=n.borderBottomLeftRadius;const a=document.createElement("div");return a.style.position="relative",a.style.top="0px",i.appendChild(a),e.style.paddingLeft=`calc(${t.width} + ${i.style.paddingLeft})`,e.style.whiteSpace="pre",e.parentNode.insertBefore(r,e),r.appendChild(e),a}(t,n),t.addEventListener("scroll",(()=>r.style.top=`-${t.scrollTop}px`)));const i=(t.textContent||"").replace(/\n+$/,"\n").split("\n").length+1;let a="";for(let e=1;e<i;e++)a+=`${e}\n`;r.innerText=a}}n.r(t),n.d(t,{withLineNumbers:()=>r})},617:e=>{"use strict";e.exports=function(e,t,n,r,i,a){var s=i-1,o=i*i,c=s*s,u=(1+2*i)*c,l=i*c,h=o*(3-2*i),d=o*s;if(e.length){a||(a=new Array(e.length));for(var f=e.length-1;f>=0;--f)a[f]=u*e[f]+l*t[f]+h*n[f]+d*r[f];return a}return u*e+l*t+h*n+d*r},e.exports.derivative=function(e,t,n,r,i,a){var s=6*i*i-6*i,o=3*i*i-4*i+1,c=-6*i*i+6*i,u=3*i*i-2*i;if(e.length){a||(a=new Array(e.length));for(var l=e.length-1;l>=0;--l)a[l]=s*e[l]+o*t[l]+c*n[l]+u*r[l];return a}return s*e+o*t+c*n[l]+u*r}},4173:(e,t,n)=>{"use strict";e.exports=function(e,t,n){switch(arguments.length){case 0:return new s([0],[0],0);case 1:return"number"==typeof e?new s(r=c(e),r,0):new s(e,c(e.length),0);case 2:var r;if("number"==typeof t)return new s(e,r=c(e.length),+t);n=0;case 3:if(e.length!==t.length)throw new Error("state and velocity lengths must match");return new s(e,t,n)}};var r=n(617),i=n(3076);function a(e,t,n){return Math.min(t,Math.max(e,n))}function s(e,t,n){this.dimension=e.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=e.slice().reverse(),this._velocity=t.slice().reverse(),this._time=[n],this._scratch=[e.slice(),e.slice(),e.slice(),e.slice(),e.slice()]}var o=s.prototype;function c(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}o.flush=function(e){var t=i.gt(this._time,e)-1;t<=0||(this._time.splice(0,t),this._state.splice(0,t*this.dimension),this._velocity.splice(0,t*this.dimension))},o.curve=function(e){var t=this._time,n=t.length,s=i.le(t,e),o=this._scratch[0],c=this._state,u=this._velocity,l=this.dimension,h=this.bounds;if(s<0)for(var d=l-1,f=0;f<l;++f,--d)o[f]=c[d];else if(s>=n-1){d=c.length-1;var p=e-t[n-1];for(f=0;f<l;++f,--d)o[f]=c[d]+p*u[d]}else{d=l*(s+1)-1;var m=t[s],v=t[s+1]-m||1,g=this._scratch[1],y=this._scratch[2],w=this._scratch[3],b=this._scratch[4],_=!0;for(f=0;f<l;++f,--d)g[f]=c[d],w[f]=u[d]*v,y[f]=c[d+l],b[f]=u[d+l]*v,_=_&&g[f]===y[f]&&w[f]===b[f]&&0===w[f];if(_)for(f=0;f<l;++f)o[f]=g[f];else r(g,w,y,b,(e-m)/v,o)}var I=h[0],M=h[1];for(f=0;f<l;++f)o[f]=a(I[f],M[f],o[f]);return o},o.dcurve=function(e){var t=this._time,n=t.length,a=i.le(t,e),s=this._scratch[0],o=this._state,c=this._velocity,u=this.dimension;if(a>=n-1)for(var l=o.length-1,h=(t[n-1],0);h<u;++h,--l)s[h]=c[l];else{l=u*(a+1)-1;var d=t[a],f=t[a+1]-d||1,p=this._scratch[1],m=this._scratch[2],v=this._scratch[3],g=this._scratch[4],y=!0;for(h=0;h<u;++h,--l)p[h]=o[l],v[h]=c[l]*f,m[h]=o[l+u],g[h]=c[l+u]*f,y=y&&p[h]===m[h]&&v[h]===g[h]&&0===v[h];if(y)for(h=0;h<u;++h)s[h]=0;else for(r.derivative(p,v,m,g,(e-d)/f,s),h=0;h<u;++h)s[h]/=f}return s},o.lastT=function(){var e=this._time;return e[e.length-1]},o.stable=function(){for(var e=this._velocity,t=e.length,n=this.dimension-1;n>=0;--n)if(e[--t])return!1;return!0},o.jump=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,s=r.length-this.dimension,o=this.bounds,c=o[0],u=o[1];this._time.push(t,e);for(var l=0;l<2;++l)for(var h=0;h<n;++h)r.push(r[s++]),i.push(0);for(this._time.push(e),h=n;h>0;--h)r.push(a(c[h-1],u[h-1],arguments[h])),i.push(0)}},o.push=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,s=r.length-this.dimension,o=e-t,c=this.bounds,u=c[0],l=c[1],h=o>1e-6?1/o:0;this._time.push(e);for(var d=n;d>0;--d){var f=a(u[d-1],l[d-1],arguments[d]);r.push(f),i.push((f-r[s++])*h)}}},o.set=function(e){var t=this.dimension;if(!(e<this.lastT()||arguments.length!==t+1)){var n=this._state,r=this._velocity,i=this.bounds,s=i[0],o=i[1];this._time.push(e);for(var c=t;c>0;--c)n.push(a(s[c-1],o[c-1],arguments[c])),r.push(0)}},o.move=function(e){var t=this.lastT(),n=this.dimension;if(!(e<=t||arguments.length!==n+1)){var r=this._state,i=this._velocity,s=r.length-this.dimension,o=this.bounds,c=o[0],u=o[1],l=e-t,h=l>1e-6?1/l:0;this._time.push(e);for(var d=n;d>0;--d){var f=arguments[d];r.push(a(c[d-1],u[d-1],r[s++]+f)),i.push(f*h)}}},o.idle=function(e){var t=this.lastT();if(!(e<t)){var n=this.dimension,r=this._state,i=this._velocity,s=r.length-n,o=this.bounds,c=o[0],u=o[1],l=e-t;this._time.push(e);for(var h=n-1;h>=0;--h)r.push(a(c[h],u[h],r[s]+l*i[s])),i.push(0),s+=1}}},8447:e=>{e.exports=function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},6252:e=>{e.exports=function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},7919:e=>{e.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],c=e[7],u=e[8],l=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15];return(t*s-n*a)*(h*v-d*m)-(t*o-r*a)*(l*v-d*p)+(t*c-i*a)*(l*m-h*p)+(n*o-r*s)*(u*v-d*f)-(n*c-i*s)*(u*m-h*f)+(r*c-i*o)*(u*p-l*f)}},7127:e=>{e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n+n,o=r+r,c=i+i,u=n*s,l=r*s,h=r*o,d=i*s,f=i*o,p=i*c,m=a*s,v=a*o,g=a*c;return e[0]=1-h-p,e[1]=l+g,e[2]=d-v,e[3]=0,e[4]=l-g,e[5]=1-u-p,e[6]=f+m,e[7]=0,e[8]=d+v,e[9]=f-m,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},1872:e=>{e.exports=function(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=r+r,c=i+i,u=a+a,l=r*o,h=r*c,d=r*u,f=i*c,p=i*u,m=a*u,v=s*o,g=s*c,y=s*u;return e[0]=1-(f+m),e[1]=h+y,e[2]=d-g,e[3]=0,e[4]=h-y,e[5]=1-(l+m),e[6]=p+v,e[7]=0,e[8]=d+g,e[9]=p-v,e[10]=1-(l+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},6312:e=>{e.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},4481:e=>{e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*o-r*s,w=n*c-i*s,b=n*u-a*s,_=r*c-i*o,I=r*u-a*o,M=i*u-a*c,T=l*m-h*p,E=l*v-d*p,A=l*g-f*p,k=h*v-d*m,S=h*g-f*m,C=d*g-f*v,x=y*C-w*S+b*k+_*A-I*E+M*T;return x?(x=1/x,e[0]=(o*C-c*S+u*k)*x,e[1]=(i*S-r*C-a*k)*x,e[2]=(m*M-v*I+g*_)*x,e[3]=(d*I-h*M-f*_)*x,e[4]=(c*A-s*C-u*E)*x,e[5]=(n*C-i*A+a*E)*x,e[6]=(v*b-p*M-g*w)*x,e[7]=(l*M-d*b+f*w)*x,e[8]=(s*S-o*A+u*T)*x,e[9]=(r*A-n*S-a*T)*x,e[10]=(p*I-m*b+g*y)*x,e[11]=(h*b-l*I-f*y)*x,e[12]=(o*E-s*k-c*T)*x,e[13]=(n*k-r*E+i*T)*x,e[14]=(m*w-p*_-v*y)*x,e[15]=(l*_-h*w+d*y)*x,e):null}},4727:(e,t,n)=>{var r=n(6312);e.exports=function(e,t,n,i){var a,s,o,c,u,l,h,d,f,p,m=t[0],v=t[1],g=t[2],y=i[0],w=i[1],b=i[2],_=n[0],I=n[1],M=n[2];return Math.abs(m-_)<1e-6&&Math.abs(v-I)<1e-6&&Math.abs(g-M)<1e-6?r(e):(h=m-_,d=v-I,f=g-M,a=w*(f*=p=1/Math.sqrt(h*h+d*d+f*f))-b*(d*=p),s=b*(h*=p)-y*f,o=y*d-w*h,(p=Math.sqrt(a*a+s*s+o*o))?(a*=p=1/p,s*=p,o*=p):(a=0,s=0,o=0),c=d*o-f*s,u=f*a-h*o,l=h*s-d*a,(p=Math.sqrt(c*c+u*u+l*l))?(c*=p=1/p,u*=p,l*=p):(c=0,u=0,l=0),e[0]=a,e[1]=c,e[2]=h,e[3]=0,e[4]=s,e[5]=u,e[6]=d,e[7]=0,e[8]=o,e[9]=l,e[10]=f,e[11]=0,e[12]=-(a*m+s*v+o*g),e[13]=-(c*m+u*v+l*g),e[14]=-(h*m+d*v+f*g),e[15]=1,e)}},9401:e=>{e.exports=function(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],w=n[0],b=n[1],_=n[2],I=n[3];return e[0]=w*r+b*o+_*h+I*m,e[1]=w*i+b*c+_*d+I*v,e[2]=w*a+b*u+_*f+I*g,e[3]=w*s+b*l+_*p+I*y,w=n[4],b=n[5],_=n[6],I=n[7],e[4]=w*r+b*o+_*h+I*m,e[5]=w*i+b*c+_*d+I*v,e[6]=w*a+b*u+_*f+I*g,e[7]=w*s+b*l+_*p+I*y,w=n[8],b=n[9],_=n[10],I=n[11],e[8]=w*r+b*o+_*h+I*m,e[9]=w*i+b*c+_*d+I*v,e[10]=w*a+b*u+_*f+I*g,e[11]=w*s+b*l+_*p+I*y,w=n[12],b=n[13],_=n[14],I=n[15],e[12]=w*r+b*o+_*h+I*m,e[13]=w*i+b*c+_*d+I*v,e[14]=w*a+b*u+_*f+I*g,e[15]=w*s+b*l+_*p+I*y,e}},397:e=>{e.exports=function(e,t,n,r){var i,a,s,o,c,u,l,h,d,f,p,m,v,g,y,w,b,_,I,M,T,E,A,k,S=r[0],C=r[1],x=r[2],P=Math.sqrt(S*S+C*C+x*x);return Math.abs(P)<1e-6?null:(S*=P=1/P,C*=P,x*=P,i=Math.sin(n),s=1-(a=Math.cos(n)),o=t[0],c=t[1],u=t[2],l=t[3],h=t[4],d=t[5],f=t[6],p=t[7],m=t[8],v=t[9],g=t[10],y=t[11],w=S*S*s+a,b=C*S*s+x*i,_=x*S*s-C*i,I=S*C*s-x*i,M=C*C*s+a,T=x*C*s+S*i,E=S*x*s+C*i,A=C*x*s-S*i,k=x*x*s+a,e[0]=o*w+h*b+m*_,e[1]=c*w+d*b+v*_,e[2]=u*w+f*b+g*_,e[3]=l*w+p*b+y*_,e[4]=o*I+h*M+m*T,e[5]=c*I+d*M+v*T,e[6]=u*I+f*M+g*T,e[7]=l*I+p*M+y*T,e[8]=o*E+h*A+m*k,e[9]=c*E+d*A+v*k,e[10]=u*E+f*A+g*k,e[11]=l*E+p*A+y*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}},4663:e=>{e.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],s=t[5],o=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=s*i+l*r,e[6]=o*i+h*r,e[7]=c*i+d*r,e[8]=u*i-a*r,e[9]=l*i-s*r,e[10]=h*i-o*r,e[11]=d*i-c*r,e}},2113:e=>{e.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],s=t[1],o=t[2],c=t[3],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=s*i-l*r,e[2]=o*i-h*r,e[3]=c*i-d*r,e[8]=a*r+u*i,e[9]=s*r+l*i,e[10]=o*r+h*i,e[11]=c*r+d*i,e}},974:e=>{e.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],s=t[1],o=t[2],c=t[3],u=t[4],l=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=s*i+l*r,e[2]=o*i+h*r,e[3]=c*i+d*r,e[4]=u*i-a*r,e[5]=l*i-s*r,e[6]=h*i-o*r,e[7]=d*i-c*r,e}},4028:e=>{e.exports=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},2602:e=>{e.exports=function(e,t,n){var r,i,a,s,o,c,u,l,h,d,f,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=c,e[6]=u,e[7]=l,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=r*m+o*v+h*g+t[12],e[13]=i*m+c*v+d*g+t[13],e[14]=a*m+u*v+f*g+t[14],e[15]=s*m+l*v+p*g+t[15]),e}},9683:e=>{e.exports=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},887:(e,t,n)=>{"use strict";n.r(t),n.d(t,{glMatrix:()=>r,mat2:()=>i,mat2d:()=>a,mat3:()=>s,mat4:()=>o,quat:()=>l,quat2:()=>h,vec2:()=>d,vec3:()=>c,vec4:()=>u});var r={};n.r(r),n.d(r,{ARRAY_TYPE:()=>p,EPSILON:()=>f,RANDOM:()=>m,equals:()=>w,setMatrixArrayType:()=>v,toRadian:()=>y});var i={};n.r(i),n.d(i,{LDU:()=>U,add:()=>F,adjoint:()=>S,clone:()=>_,copy:()=>I,create:()=>b,determinant:()=>C,equals:()=>j,exactEquals:()=>q,frob:()=>L,fromRotation:()=>O,fromScaling:()=>N,fromValues:()=>T,identity:()=>M,invert:()=>k,mul:()=>H,multiply:()=>x,multiplyScalar:()=>V,multiplyScalarAndAdd:()=>B,rotate:()=>P,scale:()=>R,set:()=>E,str:()=>D,sub:()=>W,subtract:()=>z,transpose:()=>A});var a={};n.r(a),n.d(a,{add:()=>ue,clone:()=>G,copy:()=>K,create:()=>$,determinant:()=>Q,equals:()=>pe,exactEquals:()=>fe,frob:()=>ce,fromRotation:()=>ie,fromScaling:()=>ae,fromTranslation:()=>se,fromValues:()=>J,identity:()=>Y,invert:()=>Z,mul:()=>me,multiply:()=>ee,multiplyScalar:()=>he,multiplyScalarAndAdd:()=>de,rotate:()=>te,scale:()=>ne,set:()=>X,str:()=>oe,sub:()=>ve,subtract:()=>le,translate:()=>re});var s={};n.r(s),n.d(s,{add:()=>je,adjoint:()=>Ae,clone:()=>we,copy:()=>be,create:()=>ge,determinant:()=>ke,equals:()=>$e,exactEquals:()=>We,frob:()=>qe,fromMat2d:()=>De,fromMat4:()=>ye,fromQuat:()=>Le,fromRotation:()=>Oe,fromScaling:()=>Ne,fromTranslation:()=>Re,fromValues:()=>_e,identity:()=>Me,invert:()=>Ee,mul:()=>Ge,multiply:()=>Se,multiplyScalar:()=>Be,multiplyScalarAndAdd:()=>He,normalFromMat4:()=>Ue,projection:()=>Fe,rotate:()=>xe,scale:()=>Pe,set:()=>Ie,str:()=>ze,sub:()=>Ke,subtract:()=>Ve,translate:()=>Ce,transpose:()=>Te});var o={};n.r(o),n.d(o,{add:()=>Ft,adjoint:()=>rt,clone:()=>Je,copy:()=>Xe,create:()=>Ye,determinant:()=>it,equals:()=>Bt,exactEquals:()=>Vt,frob:()=>Ut,fromQuat:()=>Et,fromQuat2:()=>wt,fromRotation:()=>pt,fromRotationTranslation:()=>yt,fromRotationTranslationScale:()=>Mt,fromRotationTranslationScaleOrigin:()=>Tt,fromScaling:()=>ft,fromTranslation:()=>dt,fromValues:()=>Ze,fromXRotation:()=>mt,fromYRotation:()=>vt,fromZRotation:()=>gt,frustum:()=>At,getRotation:()=>It,getScaling:()=>_t,getTranslation:()=>bt,identity:()=>et,invert:()=>nt,lookAt:()=>Nt,mul:()=>Ht,multiply:()=>at,multiplyScalar:()=>qt,multiplyScalarAndAdd:()=>jt,ortho:()=>Rt,orthoNO:()=>Pt,orthoZO:()=>Ot,perspective:()=>St,perspectiveFromFieldOfView:()=>xt,perspectiveNO:()=>kt,perspectiveZO:()=>Ct,rotate:()=>ct,rotateX:()=>ut,rotateY:()=>lt,rotateZ:()=>ht,scale:()=>ot,set:()=>Qe,str:()=>Lt,sub:()=>Wt,subtract:()=>zt,targetTo:()=>Dt,translate:()=>st,transpose:()=>tt});var c={};n.r(c),n.d(c,{add:()=>Zt,angle:()=>Sn,bezier:()=>bn,ceil:()=>nn,clone:()=>Gt,copy:()=>Jt,create:()=>$t,cross:()=>gn,dist:()=>Un,distance:()=>ln,div:()=>Ln,divide:()=>tn,dot:()=>vn,equals:()=>Rn,exactEquals:()=>Pn,floor:()=>rn,forEach:()=>jn,fromValues:()=>Yt,hermite:()=>wn,inverse:()=>pn,len:()=>zn,length:()=>Kt,lerp:()=>yn,max:()=>sn,min:()=>an,mul:()=>Dn,multiply:()=>en,negate:()=>fn,normalize:()=>mn,random:()=>_n,rotateX:()=>En,rotateY:()=>An,rotateZ:()=>kn,round:()=>on,scale:()=>cn,scaleAndAdd:()=>un,set:()=>Xt,sqrDist:()=>Fn,sqrLen:()=>qn,squaredDistance:()=>hn,squaredLength:()=>dn,str:()=>xn,sub:()=>Nn,subtract:()=>Qt,transformMat3:()=>Mn,transformMat4:()=>In,transformQuat:()=>Tn,zero:()=>Cn});var u={};n.r(u),n.d(u,{add:()=>Gn,ceil:()=>Xn,clone:()=>Bn,copy:()=>Wn,create:()=>Vn,cross:()=>dr,dist:()=>Tr,distance:()=>ir,div:()=>Mr,divide:()=>Jn,dot:()=>hr,equals:()=>br,exactEquals:()=>wr,floor:()=>Zn,forEach:()=>Sr,fromValues:()=>Hn,inverse:()=>ur,len:()=>Ar,length:()=>sr,lerp:()=>fr,max:()=>er,min:()=>Qn,mul:()=>Ir,multiply:()=>Yn,negate:()=>cr,normalize:()=>lr,random:()=>pr,round:()=>tr,scale:()=>nr,scaleAndAdd:()=>rr,set:()=>$n,sqrDist:()=>Er,sqrLen:()=>kr,squaredDistance:()=>ar,squaredLength:()=>or,str:()=>yr,sub:()=>_r,subtract:()=>Kn,transformMat4:()=>mr,transformQuat:()=>vr,zero:()=>gr});var l={};n.r(l),n.d(l,{add:()=>ai,calculateW:()=>Fr,clone:()=>ti,conjugate:()=>Wr,copy:()=>ri,create:()=>Cr,dot:()=>ci,equals:()=>vi,exactEquals:()=>mi,exp:()=>zr,fromEuler:()=>Gr,fromMat3:()=>$r,fromValues:()=>ni,getAngle:()=>Or,getAxisAngle:()=>Rr,identity:()=>xr,invert:()=>Hr,len:()=>hi,length:()=>li,lerp:()=>ui,ln:()=>qr,mul:()=>si,multiply:()=>Nr,normalize:()=>pi,pow:()=>jr,random:()=>Br,rotateX:()=>Dr,rotateY:()=>Lr,rotateZ:()=>Ur,rotationTo:()=>gi,scale:()=>oi,set:()=>ii,setAxes:()=>wi,setAxisAngle:()=>Pr,slerp:()=>Vr,sqlerp:()=>yi,sqrLen:()=>fi,squaredLength:()=>di,str:()=>Kr});var h={};n.r(h),n.d(h,{add:()=>Bi,clone:()=>_i,conjugate:()=>Ji,copy:()=>Si,create:()=>bi,dot:()=>Gi,equals:()=>ia,exactEquals:()=>ra,fromMat4:()=>ki,fromRotation:()=>Ai,fromRotationTranslation:()=>Ti,fromRotationTranslationValues:()=>Mi,fromTranslation:()=>Ei,fromValues:()=>Ii,getDual:()=>Ri,getReal:()=>Pi,getTranslation:()=>Di,identity:()=>Ci,invert:()=>Yi,len:()=>Zi,length:()=>Xi,lerp:()=>Ki,mul:()=>Wi,multiply:()=>Hi,normalize:()=>ta,rotateAroundAxis:()=>Vi,rotateByQuatAppend:()=>qi,rotateByQuatPrepend:()=>ji,rotateX:()=>Ui,rotateY:()=>Fi,rotateZ:()=>zi,scale:()=>$i,set:()=>xi,setDual:()=>Ni,setReal:()=>Oi,sqrLen:()=>ea,squaredLength:()=>Qi,str:()=>na,translate:()=>Li});var d={};n.r(d),n.d(d,{add:()=>la,angle:()=>Ua,ceil:()=>pa,clone:()=>sa,copy:()=>ca,create:()=>aa,cross:()=>Ca,dist:()=>$a,distance:()=>_a,div:()=>Wa,divide:()=>fa,dot:()=>Sa,equals:()=>ja,exactEquals:()=>qa,floor:()=>ma,forEach:()=>Ya,fromValues:()=>oa,inverse:()=>Aa,len:()=>Va,length:()=>Ma,lerp:()=>xa,max:()=>ga,min:()=>va,mul:()=>Ha,multiply:()=>da,negate:()=>Ea,normalize:()=>ka,random:()=>Pa,rotate:()=>La,round:()=>ya,scale:()=>wa,scaleAndAdd:()=>ba,set:()=>ua,sqrDist:()=>Ga,sqrLen:()=>Ka,squaredDistance:()=>Ia,squaredLength:()=>Ta,str:()=>za,sub:()=>Ba,subtract:()=>ha,transformMat2:()=>Ra,transformMat2d:()=>Oa,transformMat3:()=>Na,transformMat4:()=>Da,zero:()=>Fa});var f=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function v(e){p=e}var g=Math.PI/180;function y(e){return e*g}function w(e,t){return Math.abs(e-t)<=f*Math.max(1,Math.abs(e),Math.abs(t))}function b(){var e=new p(4);return p!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function _(e){var t=new p(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function I(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function M(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function T(e,t,n,r){var i=new p(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function E(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function A(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function k(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n*a-i*r;return s?(s=1/s,e[0]=a*s,e[1]=-r*s,e[2]=-i*s,e[3]=n*s,e):null}function S(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function C(e){return e[0]*e[3]-e[2]*e[1]}function x(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=n[0],c=n[1],u=n[2],l=n[3];return e[0]=r*o+a*c,e[1]=i*o+s*c,e[2]=r*u+a*l,e[3]=i*u+s*l,e}function P(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*o,e[1]=i*c+s*o,e[2]=r*-o+a*c,e[3]=i*-o+s*c,e}function R(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=n[0],c=n[1];return e[0]=r*o,e[1]=i*o,e[2]=a*c,e[3]=s*c,e}function O(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function N(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function D(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function L(e){return Math.hypot(e[0],e[1],e[2],e[3])}function U(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function F(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function z(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],s=t[0],o=t[1],c=t[2],u=t[3];return Math.abs(n-s)<=f*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-o)<=f*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-c)<=f*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-u)<=f*Math.max(1,Math.abs(a),Math.abs(u))}function V(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function B(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var H=x,W=z;function $(){var e=new p(6);return p!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function G(e){var t=new p(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function K(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Y(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function J(e,t,n,r,i,a){var s=new p(6);return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s}function X(e,t,n,r,i,a,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=s,e}function Z(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=n*a-r*i;return c?(c=1/c,e[0]=a*c,e[1]=-r*c,e[2]=-i*c,e[3]=n*c,e[4]=(i*o-a*s)*c,e[5]=(r*s-n*o)*c,e):null}function Q(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=n[0],l=n[1],h=n[2],d=n[3],f=n[4],p=n[5];return e[0]=r*u+a*l,e[1]=i*u+s*l,e[2]=r*h+a*d,e[3]=i*h+s*d,e[4]=r*f+a*p+o,e[5]=i*f+s*p+c,e}function te(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*u,e[1]=i*l+s*u,e[2]=r*-u+a*l,e[3]=i*-u+s*l,e[4]=o,e[5]=c,e}function ne(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=n[0],l=n[1];return e[0]=r*u,e[1]=i*u,e[2]=a*l,e[3]=s*l,e[4]=o,e[5]=c,e}function re(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=n[0],l=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=r*u+a*l+o,e[5]=i*u+s*l+c,e}function ie(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function ae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function se(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function oe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ce(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ue(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function le(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function he(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function de(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function fe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function pe(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=t[0],u=t[1],l=t[2],h=t[3],d=t[4],p=t[5];return Math.abs(n-c)<=f*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-u)<=f*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-l)<=f*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-h)<=f*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-d)<=f*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(o-p)<=f*Math.max(1,Math.abs(o),Math.abs(p))}var me=ee,ve=le;function ge(){var e=new p(9);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function we(e){var t=new p(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function _e(e,t,n,r,i,a,s,o,c){var u=new p(9);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=i,u[5]=a,u[6]=s,u[7]=o,u[8]=c,u}function Ie(e,t,n,r,i,a,s,o,c,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=s,e[6]=o,e[7]=c,e[8]=u,e}function Me(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Te(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ee(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8],h=l*s-o*u,d=-l*a+o*c,f=u*a-s*c,p=n*h+r*d+i*f;return p?(p=1/p,e[0]=h*p,e[1]=(-l*r+i*u)*p,e[2]=(o*r-i*s)*p,e[3]=d*p,e[4]=(l*n-i*c)*p,e[5]=(-o*n+i*a)*p,e[6]=f*p,e[7]=(-u*n+r*c)*p,e[8]=(s*n-r*a)*p,e):null}function Ae(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8];return e[0]=s*l-o*u,e[1]=i*u-r*l,e[2]=r*o-i*s,e[3]=o*c-a*l,e[4]=n*l-i*c,e[5]=i*a-n*o,e[6]=a*u-s*c,e[7]=r*c-n*u,e[8]=n*s-r*a,e}function ke(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],c=e[7],u=e[8];return t*(u*a-s*c)+n*(-u*i+s*o)+r*(c*i-a*o)}function Se(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=n[0],f=n[1],p=n[2],m=n[3],v=n[4],g=n[5],y=n[6],w=n[7],b=n[8];return e[0]=d*r+f*s+p*u,e[1]=d*i+f*o+p*l,e[2]=d*a+f*c+p*h,e[3]=m*r+v*s+g*u,e[4]=m*i+v*o+g*l,e[5]=m*a+v*c+g*h,e[6]=y*r+w*s+b*u,e[7]=y*i+w*o+b*l,e[8]=y*a+w*c+b*h,e}function Ce(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=n[0],f=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=c,e[6]=d*r+f*s+u,e[7]=d*i+f*o+l,e[8]=d*a+f*c+h,e}function xe(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=Math.sin(n),f=Math.cos(n);return e[0]=f*r+d*s,e[1]=f*i+d*o,e[2]=f*a+d*c,e[3]=f*s-d*r,e[4]=f*o-d*i,e[5]=f*c-d*a,e[6]=u,e[7]=l,e[8]=h,e}function Pe(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Re(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Oe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ne(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function De(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Le(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n+n,o=r+r,c=i+i,u=n*s,l=r*s,h=r*o,d=i*s,f=i*o,p=i*c,m=a*s,v=a*o,g=a*c;return e[0]=1-h-p,e[3]=l-g,e[6]=d+v,e[1]=l+g,e[4]=1-u-p,e[7]=f-m,e[2]=d-v,e[5]=f+m,e[8]=1-u-h,e}function Ue(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*o-r*s,w=n*c-i*s,b=n*u-a*s,_=r*c-i*o,I=r*u-a*o,M=i*u-a*c,T=l*m-h*p,E=l*v-d*p,A=l*g-f*p,k=h*v-d*m,S=h*g-f*m,C=d*g-f*v,x=y*C-w*S+b*k+_*A-I*E+M*T;return x?(x=1/x,e[0]=(o*C-c*S+u*k)*x,e[1]=(c*A-s*C-u*E)*x,e[2]=(s*S-o*A+u*T)*x,e[3]=(i*S-r*C-a*k)*x,e[4]=(n*C-i*A+a*E)*x,e[5]=(r*A-n*S-a*T)*x,e[6]=(m*M-v*I+g*_)*x,e[7]=(v*b-p*M-g*w)*x,e[8]=(p*I-m*b+g*y)*x,e):null}function Fe(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function ze(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function qe(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function je(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ve(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Be(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function He(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function We(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function $e(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=e[8],h=t[0],d=t[1],p=t[2],m=t[3],v=t[4],g=t[5],y=t[6],w=t[7],b=t[8];return Math.abs(n-h)<=f*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-d)<=f*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=f*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-m)<=f*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-v)<=f*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(o-g)<=f*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(c-y)<=f*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(u-w)<=f*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(l-b)<=f*Math.max(1,Math.abs(l),Math.abs(b))}var Ge=Se,Ke=Ve;function Ye(){var e=new p(16);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Je(e){var t=new p(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Xe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ze(e,t,n,r,i,a,s,o,c,u,l,h,d,f,m,v){var g=new p(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=s,g[7]=o,g[8]=c,g[9]=u,g[10]=l,g[11]=h,g[12]=d,g[13]=f,g[14]=m,g[15]=v,g}function Qe(e,t,n,r,i,a,s,o,c,u,l,h,d,f,p,m,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=s,e[6]=o,e[7]=c,e[8]=u,e[9]=l,e[10]=h,e[11]=d,e[12]=f,e[13]=p,e[14]=m,e[15]=v,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function nt(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*o-r*s,w=n*c-i*s,b=n*u-a*s,_=r*c-i*o,I=r*u-a*o,M=i*u-a*c,T=l*m-h*p,E=l*v-d*p,A=l*g-f*p,k=h*v-d*m,S=h*g-f*m,C=d*g-f*v,x=y*C-w*S+b*k+_*A-I*E+M*T;return x?(x=1/x,e[0]=(o*C-c*S+u*k)*x,e[1]=(i*S-r*C-a*k)*x,e[2]=(m*M-v*I+g*_)*x,e[3]=(d*I-h*M-f*_)*x,e[4]=(c*A-s*C-u*E)*x,e[5]=(n*C-i*A+a*E)*x,e[6]=(v*b-p*M-g*w)*x,e[7]=(l*M-d*b+f*w)*x,e[8]=(s*S-o*A+u*T)*x,e[9]=(r*A-n*S-a*T)*x,e[10]=(p*I-m*b+g*y)*x,e[11]=(h*b-l*I-f*y)*x,e[12]=(o*E-s*k-c*T)*x,e[13]=(n*k-r*E+i*T)*x,e[14]=(m*w-p*_-v*y)*x,e[15]=(l*_-h*w+d*y)*x,e):null}function rt(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15];return e[0]=o*(d*g-f*v)-h*(c*g-u*v)+m*(c*f-u*d),e[1]=-(r*(d*g-f*v)-h*(i*g-a*v)+m*(i*f-a*d)),e[2]=r*(c*g-u*v)-o*(i*g-a*v)+m*(i*u-a*c),e[3]=-(r*(c*f-u*d)-o*(i*f-a*d)+h*(i*u-a*c)),e[4]=-(s*(d*g-f*v)-l*(c*g-u*v)+p*(c*f-u*d)),e[5]=n*(d*g-f*v)-l*(i*g-a*v)+p*(i*f-a*d),e[6]=-(n*(c*g-u*v)-s*(i*g-a*v)+p*(i*u-a*c)),e[7]=n*(c*f-u*d)-s*(i*f-a*d)+l*(i*u-a*c),e[8]=s*(h*g-f*m)-l*(o*g-u*m)+p*(o*f-u*h),e[9]=-(n*(h*g-f*m)-l*(r*g-a*m)+p*(r*f-a*h)),e[10]=n*(o*g-u*m)-s*(r*g-a*m)+p*(r*u-a*o),e[11]=-(n*(o*f-u*h)-s*(r*f-a*h)+l*(r*u-a*o)),e[12]=-(s*(h*v-d*m)-l*(o*v-c*m)+p*(o*d-c*h)),e[13]=n*(h*v-d*m)-l*(r*v-i*m)+p*(r*d-i*h),e[14]=-(n*(o*v-c*m)-s*(r*v-i*m)+p*(r*c-i*o)),e[15]=n*(o*d-c*h)-s*(r*d-i*h)+l*(r*c-i*o),e}function it(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],c=e[7],u=e[8],l=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15];return(t*s-n*a)*(h*v-d*m)-(t*o-r*a)*(l*v-d*p)+(t*c-i*a)*(l*m-h*p)+(n*o-r*s)*(u*v-d*f)-(n*c-i*s)*(u*m-h*f)+(r*c-i*o)*(u*p-l*f)}function at(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],w=n[0],b=n[1],_=n[2],I=n[3];return e[0]=w*r+b*o+_*h+I*m,e[1]=w*i+b*c+_*d+I*v,e[2]=w*a+b*u+_*f+I*g,e[3]=w*s+b*l+_*p+I*y,w=n[4],b=n[5],_=n[6],I=n[7],e[4]=w*r+b*o+_*h+I*m,e[5]=w*i+b*c+_*d+I*v,e[6]=w*a+b*u+_*f+I*g,e[7]=w*s+b*l+_*p+I*y,w=n[8],b=n[9],_=n[10],I=n[11],e[8]=w*r+b*o+_*h+I*m,e[9]=w*i+b*c+_*d+I*v,e[10]=w*a+b*u+_*f+I*g,e[11]=w*s+b*l+_*p+I*y,w=n[12],b=n[13],_=n[14],I=n[15],e[12]=w*r+b*o+_*h+I*m,e[13]=w*i+b*c+_*d+I*v,e[14]=w*a+b*u+_*f+I*g,e[15]=w*s+b*l+_*p+I*y,e}function st(e,t,n){var r,i,a,s,o,c,u,l,h,d,f,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=c,e[6]=u,e[7]=l,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=r*m+o*v+h*g+t[12],e[13]=i*m+c*v+d*g+t[13],e[14]=a*m+u*v+f*g+t[14],e[15]=s*m+l*v+p*g+t[15]),e}function ot(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ct(e,t,n,r){var i,a,s,o,c,u,l,h,d,p,m,v,g,y,w,b,_,I,M,T,E,A,k,S,C=r[0],x=r[1],P=r[2],R=Math.hypot(C,x,P);return R<f?null:(C*=R=1/R,x*=R,P*=R,i=Math.sin(n),s=1-(a=Math.cos(n)),o=t[0],c=t[1],u=t[2],l=t[3],h=t[4],d=t[5],p=t[6],m=t[7],v=t[8],g=t[9],y=t[10],w=t[11],b=C*C*s+a,_=x*C*s+P*i,I=P*C*s-x*i,M=C*x*s-P*i,T=x*x*s+a,E=P*x*s+C*i,A=C*P*s+x*i,k=x*P*s-C*i,S=P*P*s+a,e[0]=o*b+h*_+v*I,e[1]=c*b+d*_+g*I,e[2]=u*b+p*_+y*I,e[3]=l*b+m*_+w*I,e[4]=o*M+h*T+v*E,e[5]=c*M+d*T+g*E,e[6]=u*M+p*T+y*E,e[7]=l*M+m*T+w*E,e[8]=o*A+h*k+v*S,e[9]=c*A+d*k+g*S,e[10]=u*A+p*k+y*S,e[11]=l*A+m*k+w*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ut(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],s=t[5],o=t[6],c=t[7],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=s*i+l*r,e[6]=o*i+h*r,e[7]=c*i+d*r,e[8]=u*i-a*r,e[9]=l*i-s*r,e[10]=h*i-o*r,e[11]=d*i-c*r,e}function lt(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],s=t[1],o=t[2],c=t[3],u=t[8],l=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=s*i-l*r,e[2]=o*i-h*r,e[3]=c*i-d*r,e[8]=a*r+u*i,e[9]=s*r+l*i,e[10]=o*r+h*i,e[11]=c*r+d*i,e}function ht(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],s=t[1],o=t[2],c=t[3],u=t[4],l=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=s*i+l*r,e[2]=o*i+h*r,e[3]=c*i+d*r,e[4]=u*i-a*r,e[5]=l*i-s*r,e[6]=h*i-o*r,e[7]=d*i-c*r,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ft(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pt(e,t,n){var r,i,a,s=n[0],o=n[1],c=n[2],u=Math.hypot(s,o,c);return u<f?null:(s*=u=1/u,o*=u,c*=u,r=Math.sin(t),a=1-(i=Math.cos(t)),e[0]=s*s*a+i,e[1]=o*s*a+c*r,e[2]=c*s*a-o*r,e[3]=0,e[4]=s*o*a-c*r,e[5]=o*o*a+i,e[6]=c*o*a+s*r,e[7]=0,e[8]=s*c*a+o*r,e[9]=o*c*a-s*r,e[10]=c*c*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=r+r,c=i+i,u=a+a,l=r*o,h=r*c,d=r*u,f=i*c,p=i*u,m=a*u,v=s*o,g=s*c,y=s*u;return e[0]=1-(f+m),e[1]=h+y,e[2]=d-g,e[3]=0,e[4]=h-y,e[5]=1-(l+m),e[6]=p+v,e[7]=0,e[8]=d+g,e[9]=p-v,e[10]=1-(l+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function wt(e,t){var n=new p(3),r=-t[0],i=-t[1],a=-t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=r*r+i*i+a*a+s*s;return h>0?(n[0]=2*(o*s+l*r+c*a-u*i)/h,n[1]=2*(c*s+l*i+u*r-o*a)/h,n[2]=2*(u*s+l*a+o*i-c*r)/h):(n[0]=2*(o*s+l*r+c*a-u*i),n[1]=2*(c*s+l*i+u*r-o*a),n[2]=2*(u*s+l*a+o*i-c*r)),yt(e,t,n),e}function bt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function _t(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],s=t[5],o=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,s,o),e[2]=Math.hypot(c,u,l),e}function It(e,t){var n=new p(3);_t(n,t);var r=1/n[0],i=1/n[1],a=1/n[2],s=t[0]*r,o=t[1]*i,c=t[2]*a,u=t[4]*r,l=t[5]*i,h=t[6]*a,d=t[8]*r,f=t[9]*i,m=t[10]*a,v=s+l+m,g=0;return v>0?(g=2*Math.sqrt(v+1),e[3]=.25*g,e[0]=(h-f)/g,e[1]=(d-c)/g,e[2]=(o-u)/g):s>l&&s>m?(g=2*Math.sqrt(1+s-l-m),e[3]=(h-f)/g,e[0]=.25*g,e[1]=(o+u)/g,e[2]=(d+c)/g):l>m?(g=2*Math.sqrt(1+l-s-m),e[3]=(d-c)/g,e[0]=(o+u)/g,e[1]=.25*g,e[2]=(h+f)/g):(g=2*Math.sqrt(1+m-s-l),e[3]=(o-u)/g,e[0]=(d+c)/g,e[1]=(h+f)/g,e[2]=.25*g),e}function Mt(e,t,n,r){var i=t[0],a=t[1],s=t[2],o=t[3],c=i+i,u=a+a,l=s+s,h=i*c,d=i*u,f=i*l,p=a*u,m=a*l,v=s*l,g=o*c,y=o*u,w=o*l,b=r[0],_=r[1],I=r[2];return e[0]=(1-(p+v))*b,e[1]=(d+w)*b,e[2]=(f-y)*b,e[3]=0,e[4]=(d-w)*_,e[5]=(1-(h+v))*_,e[6]=(m+g)*_,e[7]=0,e[8]=(f+y)*I,e[9]=(m-g)*I,e[10]=(1-(h+p))*I,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Tt(e,t,n,r,i){var a=t[0],s=t[1],o=t[2],c=t[3],u=a+a,l=s+s,h=o+o,d=a*u,f=a*l,p=a*h,m=s*l,v=s*h,g=o*h,y=c*u,w=c*l,b=c*h,_=r[0],I=r[1],M=r[2],T=i[0],E=i[1],A=i[2],k=(1-(m+g))*_,S=(f+b)*_,C=(p-w)*_,x=(f-b)*I,P=(1-(d+g))*I,R=(v+y)*I,O=(p+w)*M,N=(v-y)*M,D=(1-(d+m))*M;return e[0]=k,e[1]=S,e[2]=C,e[3]=0,e[4]=x,e[5]=P,e[6]=R,e[7]=0,e[8]=O,e[9]=N,e[10]=D,e[11]=0,e[12]=n[0]+T-(k*T+x*E+O*A),e[13]=n[1]+E-(S*T+P*E+N*A),e[14]=n[2]+A-(C*T+R*E+D*A),e[15]=1,e}function Et(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n+n,o=r+r,c=i+i,u=n*s,l=r*s,h=r*o,d=i*s,f=i*o,p=i*c,m=a*s,v=a*o,g=a*c;return e[0]=1-h-p,e[1]=l+g,e[2]=d-v,e[3]=0,e[4]=l-g,e[5]=1-u-p,e[6]=f+m,e[7]=0,e[8]=d+v,e[9]=f-m,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function At(e,t,n,r,i,a,s){var o=1/(n-t),c=1/(i-r),u=1/(a-s);return e[0]=2*a*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*c,e[6]=0,e[7]=0,e[8]=(n+t)*o,e[9]=(i+r)*c,e[10]=(s+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*a*2*u,e[15]=0,e}function kt(e,t,n,r,i){var a,s=1/Math.tan(t/2);return e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(r-i),e[10]=(i+r)*a,e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e}var St=kt;function Ct(e,t,n,r,i){var a,s=1/Math.tan(t/2);return e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(r-i),e[10]=i*a,e[14]=i*r*a):(e[10]=-1,e[14]=-r),e}function xt(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),c=2/(s+o),u=2/(i+a);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(s-o)*c*.5,e[9]=(i-a)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function Pt(e,t,n,r,i,a,s){var o=1/(t-n),c=1/(r-i),u=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*o,e[13]=(i+r)*c,e[14]=(s+a)*u,e[15]=1,e}var Rt=Pt;function Ot(e,t,n,r,i,a,s){var o=1/(t-n),c=1/(r-i),u=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+n)*o,e[13]=(i+r)*c,e[14]=a*u,e[15]=1,e}function Nt(e,t,n,r){var i,a,s,o,c,u,l,h,d,p,m=t[0],v=t[1],g=t[2],y=r[0],w=r[1],b=r[2],_=n[0],I=n[1],M=n[2];return Math.abs(m-_)<f&&Math.abs(v-I)<f&&Math.abs(g-M)<f?et(e):(l=m-_,h=v-I,d=g-M,i=w*(d*=p=1/Math.hypot(l,h,d))-b*(h*=p),a=b*(l*=p)-y*d,s=y*h-w*l,(p=Math.hypot(i,a,s))?(i*=p=1/p,a*=p,s*=p):(i=0,a=0,s=0),o=h*s-d*a,c=d*i-l*s,u=l*a-h*i,(p=Math.hypot(o,c,u))?(o*=p=1/p,c*=p,u*=p):(o=0,c=0,u=0),e[0]=i,e[1]=o,e[2]=l,e[3]=0,e[4]=a,e[5]=c,e[6]=h,e[7]=0,e[8]=s,e[9]=u,e[10]=d,e[11]=0,e[12]=-(i*m+a*v+s*g),e[13]=-(o*m+c*v+u*g),e[14]=-(l*m+h*v+d*g),e[15]=1,e)}function Dt(e,t,n,r){var i=t[0],a=t[1],s=t[2],o=r[0],c=r[1],u=r[2],l=i-n[0],h=a-n[1],d=s-n[2],f=l*l+h*h+d*d;f>0&&(l*=f=1/Math.sqrt(f),h*=f,d*=f);var p=c*d-u*h,m=u*l-o*d,v=o*h-c*l;return(f=p*p+m*m+v*v)>0&&(p*=f=1/Math.sqrt(f),m*=f,v*=f),e[0]=p,e[1]=m,e[2]=v,e[3]=0,e[4]=h*v-d*m,e[5]=d*p-l*v,e[6]=l*m-h*p,e[7]=0,e[8]=l,e[9]=h,e[10]=d,e[11]=0,e[12]=i,e[13]=a,e[14]=s,e[15]=1,e}function Lt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ut(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Ft(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function zt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function qt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function jt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Vt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Bt(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=e[8],h=e[9],d=e[10],p=e[11],m=e[12],v=e[13],g=e[14],y=e[15],w=t[0],b=t[1],_=t[2],I=t[3],M=t[4],T=t[5],E=t[6],A=t[7],k=t[8],S=t[9],C=t[10],x=t[11],P=t[12],R=t[13],O=t[14],N=t[15];return Math.abs(n-w)<=f*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(r-b)<=f*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=f*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-I)<=f*Math.max(1,Math.abs(a),Math.abs(I))&&Math.abs(s-M)<=f*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(o-T)<=f*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(c-E)<=f*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(u-A)<=f*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(l-k)<=f*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(h-S)<=f*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(d-C)<=f*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-x)<=f*Math.max(1,Math.abs(p),Math.abs(x))&&Math.abs(m-P)<=f*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(v-R)<=f*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(g-O)<=f*Math.max(1,Math.abs(g),Math.abs(O))&&Math.abs(y-N)<=f*Math.max(1,Math.abs(y),Math.abs(N))}var Ht=at,Wt=zt;function $t(){var e=new p(3);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Gt(e){var t=new p(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Kt(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Yt(e,t,n){var r=new p(3);return r[0]=e,r[1]=t,r[2]=n,r}function Jt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Zt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Qt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function en(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function tn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function nn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function rn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function an(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function sn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function on(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function cn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function un(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function ln(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function hn(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function dn(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function fn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function pn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function mn(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function vn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gn(e,t,n){var r=t[0],i=t[1],a=t[2],s=n[0],o=n[1],c=n[2];return e[0]=i*c-a*o,e[1]=a*s-r*c,e[2]=r*o-i*s,e}function yn(e,t,n,r){var i=t[0],a=t[1],s=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=s+r*(n[2]-s),e}function wn(e,t,n,r,i,a){var s=a*a,o=s*(2*a-3)+1,c=s*(a-2)+a,u=s*(a-1),l=s*(3-2*a);return e[0]=t[0]*o+n[0]*c+r[0]*u+i[0]*l,e[1]=t[1]*o+n[1]*c+r[1]*u+i[1]*l,e[2]=t[2]*o+n[2]*c+r[2]*u+i[2]*l,e}function bn(e,t,n,r,i,a){var s=1-a,o=s*s,c=a*a,u=o*s,l=3*a*o,h=3*c*s,d=c*a;return e[0]=t[0]*u+n[0]*l+r[0]*h+i[0]*d,e[1]=t[1]*u+n[1]*l+r[1]*h+i[1]*d,e[2]=t[2]*u+n[2]*l+r[2]*h+i[2]*d,e}function _n(e,t){t=t||1;var n=2*m()*Math.PI,r=2*m()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}function In(e,t,n){var r=t[0],i=t[1],a=t[2],s=n[3]*r+n[7]*i+n[11]*a+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/s,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/s,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/s,e}function Mn(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function Tn(e,t,n){var r=n[0],i=n[1],a=n[2],s=n[3],o=t[0],c=t[1],u=t[2],l=i*u-a*c,h=a*o-r*u,d=r*c-i*o,f=i*d-a*h,p=a*l-r*d,m=r*h-i*l,v=2*s;return l*=v,h*=v,d*=v,f*=2,p*=2,m*=2,e[0]=o+l+f,e[1]=c+h+p,e[2]=u+d+m,e}function En(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function An(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function kn(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function Sn(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],s=t[1],o=t[2],c=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(a*a+s*s+o*o),u=c&&vn(e,t)/c;return Math.acos(Math.min(Math.max(u,-1),1))}function Cn(e){return e[0]=0,e[1]=0,e[2]=0,e}function xn(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Pn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Rn(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],s=t[1],o=t[2];return Math.abs(n-a)<=f*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=f*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-o)<=f*Math.max(1,Math.abs(i),Math.abs(o))}var On,Nn=Qt,Dn=en,Ln=tn,Un=ln,Fn=hn,zn=Kt,qn=dn,jn=(On=$t(),function(e,t,n,r,i,a){var s,o;for(t||(t=3),n||(n=0),o=r?Math.min(r*t+n,e.length):e.length,s=n;s<o;s+=t)On[0]=e[s],On[1]=e[s+1],On[2]=e[s+2],i(On,On,a),e[s]=On[0],e[s+1]=On[1],e[s+2]=On[2];return e});function Vn(){var e=new p(4);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Bn(e){var t=new p(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Hn(e,t,n,r){var i=new p(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Wn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function $n(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function Gn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Kn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function Yn(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Jn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Xn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Zn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Qn(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function er(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function tr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function nr(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function rr(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function ir(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.hypot(n,r,i,a)}function ar(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a}function sr(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function or(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function cr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ur(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function lr(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n*n+r*r+i*i+a*a;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=a*s,e}function hr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function dr(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],s=n[0]*r[3]-n[3]*r[0],o=n[1]*r[2]-n[2]*r[1],c=n[1]*r[3]-n[3]*r[1],u=n[2]*r[3]-n[3]*r[2],l=t[0],h=t[1],d=t[2],f=t[3];return e[0]=h*u-d*c+f*o,e[1]=-l*u+d*s-f*a,e[2]=l*c-h*s+f*i,e[3]=-l*o+h*a-d*i,e}function fr(e,t,n,r){var i=t[0],a=t[1],s=t[2],o=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=s+r*(n[2]-s),e[3]=o+r*(n[3]-o),e}function pr(e,t){var n,r,i,a,s,o;t=t||1;do{s=(n=2*m()-1)*n+(r=2*m()-1)*r}while(s>=1);do{o=(i=2*m()-1)*i+(a=2*m()-1)*a}while(o>=1);var c=Math.sqrt((1-s)/o);return e[0]=t*n,e[1]=t*r,e[2]=t*i*c,e[3]=t*a*c,e}function mr(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*s,e}function vr(e,t,n){var r=t[0],i=t[1],a=t[2],s=n[0],o=n[1],c=n[2],u=n[3],l=u*r+o*a-c*i,h=u*i+c*r-s*a,d=u*a+s*i-o*r,f=-s*r-o*i-c*a;return e[0]=l*u+f*-s+h*-c-d*-o,e[1]=h*u+f*-o+d*-s-l*-c,e[2]=d*u+f*-c+l*-o-h*-s,e[3]=t[3],e}function gr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function yr(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function wr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function br(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],s=t[0],o=t[1],c=t[2],u=t[3];return Math.abs(n-s)<=f*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-o)<=f*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-c)<=f*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-u)<=f*Math.max(1,Math.abs(a),Math.abs(u))}var _r=Kn,Ir=Yn,Mr=Jn,Tr=ir,Er=ar,Ar=sr,kr=or,Sr=function(){var e=Vn();return function(t,n,r,i,a,s){var o,c;for(n||(n=4),r||(r=0),c=i?Math.min(i*n+r,t.length):t.length,o=r;o<c;o+=n)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],e[3]=t[o+3],a(e,e,s),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2],t[o+3]=e[3];return t}}();function Cr(){var e=new p(4);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function xr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Pr(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Rr(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>f?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function Or(e,t){var n=ci(e,t);return Math.acos(2*n*n-1)}function Nr(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=n[0],c=n[1],u=n[2],l=n[3];return e[0]=r*l+s*o+i*u-a*c,e[1]=i*l+s*c+a*o-r*u,e[2]=a*l+s*u+r*c-i*o,e[3]=s*l-r*o-i*c-a*u,e}function Dr(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],s=t[3],o=Math.sin(n),c=Math.cos(n);return e[0]=r*c+s*o,e[1]=i*c+a*o,e[2]=a*c-i*o,e[3]=s*c-r*o,e}function Lr(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],s=t[3],o=Math.sin(n),c=Math.cos(n);return e[0]=r*c-a*o,e[1]=i*c+s*o,e[2]=a*c+r*o,e[3]=s*c-i*o,e}function Ur(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],s=t[3],o=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*o,e[1]=i*c-r*o,e[2]=a*c+s*o,e[3]=s*c-a*o,e}function Fr(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}function zr(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=Math.sqrt(n*n+r*r+i*i),o=Math.exp(a),c=s>0?o*Math.sin(s)/s:0;return e[0]=n*c,e[1]=r*c,e[2]=i*c,e[3]=o*Math.cos(s),e}function qr(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=Math.sqrt(n*n+r*r+i*i),o=s>0?Math.atan2(s,a)/s:0;return e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=.5*Math.log(n*n+r*r+i*i+a*a),e}function jr(e,t,n){return qr(e,t),oi(e,e,n),zr(e,e),e}function Vr(e,t,n,r){var i,a,s,o,c,u=t[0],l=t[1],h=t[2],d=t[3],p=n[0],m=n[1],v=n[2],g=n[3];return(a=u*p+l*m+h*v+d*g)<0&&(a=-a,p=-p,m=-m,v=-v,g=-g),1-a>f?(i=Math.acos(a),s=Math.sin(i),o=Math.sin((1-r)*i)/s,c=Math.sin(r*i)/s):(o=1-r,c=r),e[0]=o*u+c*p,e[1]=o*l+c*m,e[2]=o*h+c*v,e[3]=o*d+c*g,e}function Br(e){var t=m(),n=m(),r=m(),i=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=a*Math.sin(2*Math.PI*r),e[3]=a*Math.cos(2*Math.PI*r),e}function Hr(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n*n+r*r+i*i+a*a,o=s?1/s:0;return e[0]=-n*o,e[1]=-r*o,e[2]=-i*o,e[3]=a*o,e}function Wr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function $r(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*s+s]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+s]-t[3*s+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[s]=(t[3*s+i]+t[3*i+s])*n}return e}function Gr(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var a=Math.sin(t),s=Math.cos(t),o=Math.sin(n),c=Math.cos(n),u=Math.sin(r),l=Math.cos(r);return e[0]=a*c*l-s*o*u,e[1]=s*o*l+a*c*u,e[2]=s*c*u-a*o*l,e[3]=s*c*l+a*o*u,e}function Kr(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Yr,Jr,Xr,Zr,Qr,ei,ti=Bn,ni=Hn,ri=Wn,ii=$n,ai=Gn,si=Nr,oi=nr,ci=hr,ui=fr,li=sr,hi=li,di=or,fi=di,pi=lr,mi=wr,vi=br,gi=(Yr=$t(),Jr=Yt(1,0,0),Xr=Yt(0,1,0),function(e,t,n){var r=vn(t,n);return r<-.999999?(gn(Yr,Jr,t),zn(Yr)<1e-6&&gn(Yr,Xr,t),mn(Yr,Yr),Pr(e,Yr,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(gn(Yr,t,n),e[0]=Yr[0],e[1]=Yr[1],e[2]=Yr[2],e[3]=1+r,pi(e,e))}),yi=(Zr=Cr(),Qr=Cr(),function(e,t,n,r,i,a){return Vr(Zr,t,i,a),Vr(Qr,n,r,a),Vr(e,Zr,Qr,2*a*(1-a)),e}),wi=(ei=ge(),function(e,t,n,r){return ei[0]=n[0],ei[3]=n[1],ei[6]=n[2],ei[1]=r[0],ei[4]=r[1],ei[7]=r[2],ei[2]=-t[0],ei[5]=-t[1],ei[8]=-t[2],pi(e,$r(e,ei))});function bi(){var e=new p(8);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function _i(e){var t=new p(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Ii(e,t,n,r,i,a,s,o){var c=new p(8);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=s,c[7]=o,c}function Mi(e,t,n,r,i,a,s){var o=new p(8);o[0]=e,o[1]=t,o[2]=n,o[3]=r;var c=.5*i,u=.5*a,l=.5*s;return o[4]=c*r+u*n-l*t,o[5]=u*r+l*e-c*n,o[6]=l*r+c*t-u*e,o[7]=-c*e-u*t-l*n,o}function Ti(e,t,n){var r=.5*n[0],i=.5*n[1],a=.5*n[2],s=t[0],o=t[1],c=t[2],u=t[3];return e[0]=s,e[1]=o,e[2]=c,e[3]=u,e[4]=r*u+i*c-a*o,e[5]=i*u+a*s-r*c,e[6]=a*u+r*o-i*s,e[7]=-r*s-i*o-a*c,e}function Ei(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function Ai(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ki(e,t){var n=Cr();It(n,t);var r=new p(3);return bt(r,t),Ti(e,n,r),e}function Si(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Ci(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function xi(e,t,n,r,i,a,s,o,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=s,e[6]=o,e[7]=c,e}var Pi=ri;function Ri(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Oi=ri;function Ni(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Di(e,t){var n=t[4],r=t[5],i=t[6],a=t[7],s=-t[0],o=-t[1],c=-t[2],u=t[3];return e[0]=2*(n*u+a*s+r*c-i*o),e[1]=2*(r*u+a*o+i*s-n*c),e[2]=2*(i*u+a*c+n*o-r*s),e}function Li(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=.5*n[0],c=.5*n[1],u=.5*n[2],l=t[4],h=t[5],d=t[6],f=t[7];return e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=s*o+i*u-a*c+l,e[5]=s*c+a*o-r*u+h,e[6]=s*u+r*c-i*o+d,e[7]=-r*o-i*c-a*u+f,e}function Ui(e,t,n){var r=-t[0],i=-t[1],a=-t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=o*s+l*r+c*a-u*i,d=c*s+l*i+u*r-o*a,f=u*s+l*a+o*i-c*r,p=l*s-o*r-c*i-u*a;return Dr(e,t,n),r=e[0],i=e[1],a=e[2],s=e[3],e[4]=h*s+p*r+d*a-f*i,e[5]=d*s+p*i+f*r-h*a,e[6]=f*s+p*a+h*i-d*r,e[7]=p*s-h*r-d*i-f*a,e}function Fi(e,t,n){var r=-t[0],i=-t[1],a=-t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=o*s+l*r+c*a-u*i,d=c*s+l*i+u*r-o*a,f=u*s+l*a+o*i-c*r,p=l*s-o*r-c*i-u*a;return Lr(e,t,n),r=e[0],i=e[1],a=e[2],s=e[3],e[4]=h*s+p*r+d*a-f*i,e[5]=d*s+p*i+f*r-h*a,e[6]=f*s+p*a+h*i-d*r,e[7]=p*s-h*r-d*i-f*a,e}function zi(e,t,n){var r=-t[0],i=-t[1],a=-t[2],s=t[3],o=t[4],c=t[5],u=t[6],l=t[7],h=o*s+l*r+c*a-u*i,d=c*s+l*i+u*r-o*a,f=u*s+l*a+o*i-c*r,p=l*s-o*r-c*i-u*a;return Ur(e,t,n),r=e[0],i=e[1],a=e[2],s=e[3],e[4]=h*s+p*r+d*a-f*i,e[5]=d*s+p*i+f*r-h*a,e[6]=f*s+p*a+h*i-d*r,e[7]=p*s-h*r-d*i-f*a,e}function qi(e,t,n){var r=n[0],i=n[1],a=n[2],s=n[3],o=t[0],c=t[1],u=t[2],l=t[3];return e[0]=o*s+l*r+c*a-u*i,e[1]=c*s+l*i+u*r-o*a,e[2]=u*s+l*a+o*i-c*r,e[3]=l*s-o*r-c*i-u*a,o=t[4],c=t[5],u=t[6],l=t[7],e[4]=o*s+l*r+c*a-u*i,e[5]=c*s+l*i+u*r-o*a,e[6]=u*s+l*a+o*i-c*r,e[7]=l*s-o*r-c*i-u*a,e}function ji(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=n[0],c=n[1],u=n[2],l=n[3];return e[0]=r*l+s*o+i*u-a*c,e[1]=i*l+s*c+a*o-r*u,e[2]=a*l+s*u+r*c-i*o,e[3]=s*l-r*o-i*c-a*u,o=n[4],c=n[5],u=n[6],l=n[7],e[4]=r*l+s*o+i*u-a*c,e[5]=i*l+s*c+a*o-r*u,e[6]=a*l+s*u+r*c-i*o,e[7]=s*l-r*o-i*c-a*u,e}function Vi(e,t,n,r){if(Math.abs(r)<f)return Si(e,t);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var a=Math.sin(r),s=a*n[0]/i,o=a*n[1]/i,c=a*n[2]/i,u=Math.cos(r),l=t[0],h=t[1],d=t[2],p=t[3];e[0]=l*u+p*s+h*c-d*o,e[1]=h*u+p*o+d*s-l*c,e[2]=d*u+p*c+l*o-h*s,e[3]=p*u-l*s-h*o-d*c;var m=t[4],v=t[5],g=t[6],y=t[7];return e[4]=m*u+y*s+v*c-g*o,e[5]=v*u+y*o+g*s-m*c,e[6]=g*u+y*c+m*o-v*s,e[7]=y*u-m*s-v*o-g*c,e}function Bi(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Hi(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=n[4],c=n[5],u=n[6],l=n[7],h=t[4],d=t[5],f=t[6],p=t[7],m=n[0],v=n[1],g=n[2],y=n[3];return e[0]=r*y+s*m+i*g-a*v,e[1]=i*y+s*v+a*m-r*g,e[2]=a*y+s*g+r*v-i*m,e[3]=s*y-r*m-i*v-a*g,e[4]=r*l+s*o+i*u-a*c+h*y+p*m+d*g-f*v,e[5]=i*l+s*c+a*o-r*u+d*y+p*v+f*m-h*g,e[6]=a*l+s*u+r*c-i*o+f*y+p*g+h*v-d*m,e[7]=s*l-r*o-i*c-a*u+p*y-h*m-d*v-f*g,e}var Wi=Hi;function $i(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var Gi=ci;function Ki(e,t,n,r){var i=1-r;return Gi(t,n)<0&&(r=-r),e[0]=t[0]*i+n[0]*r,e[1]=t[1]*i+n[1]*r,e[2]=t[2]*i+n[2]*r,e[3]=t[3]*i+n[3]*r,e[4]=t[4]*i+n[4]*r,e[5]=t[5]*i+n[5]*r,e[6]=t[6]*i+n[6]*r,e[7]=t[7]*i+n[7]*r,e}function Yi(e,t){var n=Qi(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function Ji(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Xi=li,Zi=Xi,Qi=di,ea=Qi;function ta(e,t){var n=Qi(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,i=t[1]/n,a=t[2]/n,s=t[3]/n,o=t[4],c=t[5],u=t[6],l=t[7],h=r*o+i*c+a*u+s*l;e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=(o-r*h)/n,e[5]=(c-i*h)/n,e[6]=(u-a*h)/n,e[7]=(l-s*h)/n}return e}function na(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function ra(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function ia(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=t[0],h=t[1],d=t[2],p=t[3],m=t[4],v=t[5],g=t[6],y=t[7];return Math.abs(n-l)<=f*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-h)<=f*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-d)<=f*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-p)<=f*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-m)<=f*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(o-v)<=f*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(c-g)<=f*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(u-y)<=f*Math.max(1,Math.abs(u),Math.abs(y))}function aa(){var e=new p(2);return p!=Float32Array&&(e[0]=0,e[1]=0),e}function sa(e){var t=new p(2);return t[0]=e[0],t[1]=e[1],t}function oa(e,t){var n=new p(2);return n[0]=e,n[1]=t,n}function ca(e,t){return e[0]=t[0],e[1]=t[1],e}function ua(e,t,n){return e[0]=t,e[1]=n,e}function la(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function ha(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function da(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function fa(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function pa(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function ma(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function va(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function ga(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function ya(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function wa(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function ba(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function _a(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function Ia(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Ma(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function Ta(e){var t=e[0],n=e[1];return t*t+n*n}function Ea(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Aa(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function ka(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function Sa(e,t){return e[0]*t[0]+e[1]*t[1]}function Ca(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function xa(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e}function Pa(e,t){t=t||1;var n=2*m()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function Ra(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function Oa(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Na(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function Da(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function La(e,t,n,r){var i=t[0]-n[0],a=t[1]-n[1],s=Math.sin(r),o=Math.cos(r);return e[0]=i*o-a*s+n[0],e[1]=i*s+a*o+n[1],e}function Ua(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],s=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),o=s&&(n*i+r*a)/s;return Math.acos(Math.min(Math.max(o,-1),1))}function Fa(e){return e[0]=0,e[1]=0,e}function za(e){return"vec2("+e[0]+", "+e[1]+")"}function qa(e,t){return e[0]===t[0]&&e[1]===t[1]}function ja(e,t){var n=e[0],r=e[1],i=t[0],a=t[1];return Math.abs(n-i)<=f*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=f*Math.max(1,Math.abs(r),Math.abs(a))}var Va=Ma,Ba=ha,Ha=da,Wa=fa,$a=_a,Ga=Ia,Ka=Ta,Ya=function(){var e=aa();return function(t,n,r,i,a,s){var o,c;for(n||(n=2),r||(r=0),c=i?Math.min(i*n+r,t.length):t.length,o=r;o<c;o+=n)e[0]=t[o],e[1]=t[o+1],a(e,e,s),t[o]=e[0],t[o+1]=e[1];return t}}()},4600:e=>{e.exports=function(e,t,n,r){var i,a,s,o,c,u=t[0],l=t[1],h=t[2],d=t[3],f=n[0],p=n[1],m=n[2],v=n[3];return(a=u*f+l*p+h*m+d*v)<0&&(a=-a,f=-f,p=-p,m=-m,v=-v),1-a>1e-6?(i=Math.acos(a),s=Math.sin(i),o=Math.sin((1-r)*i)/s,c=Math.sin(r*i)/s):(o=1-r,c=r),e[0]=o*u+c*f,e[1]=o*l+c*p,e[2]=o*h+c*m,e[3]=o*d+c*v,e}},3858:e=>{e.exports=function(e,t,n){var r=t[0],i=t[1],a=t[2],s=n[0],o=n[1],c=n[2];return e[0]=i*c-a*o,e[1]=a*s-r*c,e[2]=r*o-i*s,e}},8368:e=>{e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},7563:e=>{e.exports=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}},6919:e=>{e.exports=function(e,t,n,r){var i=t[0],a=t[1],s=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=s+r*(n[2]-s),e}},91:e=>{e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}},6795:(e,t,n)=>{"use strict";var r=n(8033);e.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},1368:(e,t,n)=>{var r=n(2722);function i(e,t){for(let n=0;n<e.length;n++)t[n]=e[n];return t}e.exports=function(e,t,n){if(t>=1){const t=e[e.length-1];return n?i(t,n):t}if(1==e.length){const t=e[0];return n?i(t,n):t}var a=t*(e.length-1),s=Math.floor(a),o=a-s;return r(e[s],e[s+1],o,n)}},8033:e=>{e.exports=!0},2722:(e,t,n)=>{var r=n(4450);e.exports=function(e,t,n,i){if("number"==typeof e&&"number"==typeof t)return r(e,t,n);var a=Math.min(e.length,t.length);i=i||new Array(a);for(var s=0;s<a;s++)i[s]=r(e[s],t[s],n);return i}},4450:e=>{e.exports=function(e,t,n){return e*(1-n)+t*n}},9805:(e,t,n)=>{var r=n(9604),i=n(6252),a=n(8447),s=n(7919),o=n(4481),c=n(9683),u={length:n(7563),normalize:n(91),dot:n(8368),cross:n(3858)},l=i(),h=i(),d=[0,0,0,0],f=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];function m(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}e.exports=function(e,t,n,i,v,g){if(t||(t=[0,0,0]),n||(n=[0,0,0]),i||(i=[0,0,0]),v||(v=[0,0,0,1]),g||(g=[0,0,0,1]),!r(l,e))return!1;if(a(h,l),h[3]=0,h[7]=0,h[11]=0,h[15]=1,Math.abs(s(h)<1e-8))return!1;var y,w,b=l[3],_=l[7],I=l[11],M=l[12],T=l[13],E=l[14],A=l[15];if(0!==b||0!==_||0!==I){if(d[0]=b,d[1]=_,d[2]=I,d[3]=A,!o(h,h))return!1;c(h,h),function(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3];e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*s}(v,d,h)}else v[0]=v[1]=v[2]=0,v[3]=1;if(t[0]=M,t[1]=T,t[2]=E,w=l,(y=f)[0][0]=w[0],y[0][1]=w[1],y[0][2]=w[2],y[1][0]=w[4],y[1][1]=w[5],y[1][2]=w[6],y[2][0]=w[8],y[2][1]=w[9],y[2][2]=w[10],n[0]=u.length(f[0]),u.normalize(f[0],f[0]),i[0]=u.dot(f[0],f[1]),m(f[1],f[1],f[0],1,-i[0]),n[1]=u.length(f[1]),u.normalize(f[1],f[1]),i[0]/=n[1],i[1]=u.dot(f[0],f[2]),m(f[2],f[2],f[0],1,-i[1]),i[2]=u.dot(f[1],f[2]),m(f[2],f[2],f[1],1,-i[2]),n[2]=u.length(f[2]),u.normalize(f[2],f[2]),i[1]/=n[2],i[2]/=n[2],u.cross(p,f[1],f[2]),u.dot(f[0],p)<0)for(var k=0;k<3;k++)n[k]*=-1,f[k][0]*=-1,f[k][1]*=-1,f[k][2]*=-1;return g[0]=.5*Math.sqrt(Math.max(1+f[0][0]-f[1][1]-f[2][2],0)),g[1]=.5*Math.sqrt(Math.max(1-f[0][0]+f[1][1]-f[2][2],0)),g[2]=.5*Math.sqrt(Math.max(1-f[0][0]-f[1][1]+f[2][2],0)),g[3]=.5*Math.sqrt(Math.max(1+f[0][0]+f[1][1]+f[2][2],0)),f[2][1]>f[1][2]&&(g[0]=-g[0]),f[0][2]>f[2][0]&&(g[1]=-g[1]),f[1][0]>f[0][1]&&(g[2]=-g[2]),!0}},9604:e=>{e.exports=function(e,t){var n=t[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}},2726:(e,t,n)=>{var r=n(6919),i=n(7814),a=n(9805),s=n(7919),o=n(2210),c=h(),u=h(),l=h();function h(){return{translate:d(),scale:d(1),skew:d(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function d(e){return[e||0,e||0,e||0]}e.exports=function(e,t,n,h){if(0===s(t)||0===s(n))return!1;var d=a(t,c.translate,c.scale,c.skew,c.perspective,c.quaternion),f=a(n,u.translate,u.scale,u.skew,u.perspective,u.quaternion);return!(!d||!f||(r(l.translate,c.translate,u.translate,h),r(l.skew,c.skew,u.skew,h),r(l.scale,c.scale,u.scale,h),r(l.perspective,c.perspective,u.perspective,h),o(l.quaternion,c.quaternion,u.quaternion,h),i(e,l.translate,l.scale,l.skew,l.perspective,l.quaternion),0))}},7814:(e,t,n)=>{var r={identity:n(6312),translate:n(2602),multiply:n(9401),create:n(6252),scale:n(4028),fromRotationTranslation:n(1872)},i=(r.create(),r.create());e.exports=function(e,t,n,a,s,o){return r.identity(e),r.fromRotationTranslation(e,o,t),e[3]=s[0],e[7]=s[1],e[11]=s[2],e[15]=s[3],r.identity(i),0!==a[2]&&(i[9]=a[2],r.multiply(e,e,i)),0!==a[1]&&(i[9]=0,i[8]=a[1],r.multiply(e,e,i)),0!==a[0]&&(i[8]=0,i[4]=a[0],r.multiply(e,e,i)),r.scale(e,e,n),e}},7622:(e,t,n)=>{"use strict";var r=n(3076),i=n(2726),a=n(4481),s=n(4663),o=n(2113),c=n(974),u=n(4727),l=n(2602),h=(n(4028),n(91)),d=[0,0,0];function f(e){this._components=e.slice(),this._time=[0],this.prevMatrix=e.slice(),this.nextMatrix=e.slice(),this.computedMatrix=e.slice(),this.computedInverse=e.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}e.exports=function(e){return new f((e=e||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var p=f.prototype;p.recalcMatrix=function(e){var t=this._time,n=r.le(t,e),s=this.computedMatrix;if(!(n<0)){var o=this._components;if(n===t.length-1)for(var c=16*n,u=0;u<16;++u)s[u]=o[c++];else{var l=t[n+1]-t[n],d=(c=16*n,this.prevMatrix),f=!0;for(u=0;u<16;++u)d[u]=o[c++];var p=this.nextMatrix;for(u=0;u<16;++u)p[u]=o[c++],f=f&&d[u]===p[u];if(l<1e-6||f)for(u=0;u<16;++u)s[u]=d[u];else i(s,d,p,(e-t[n])/l)}var m=this.computedUp;m[0]=s[1],m[1]=s[5],m[2]=s[9],h(m,m);var v=this.computedInverse;a(v,s);var g=this.computedEye,y=v[15];g[0]=v[12]/y,g[1]=v[13]/y,g[2]=v[14]/y;var w=this.computedCenter,b=Math.exp(this.computedRadius[0]);for(u=0;u<3;++u)w[u]=g[u]-s[2+4*u]*b}},p.idle=function(e){if(!(e<this.lastT())){for(var t=this._components,n=t.length-16,r=0;r<16;++r)t.push(t[n++]);this._time.push(e)}},p.flush=function(e){var t=r.gt(this._time,e)-2;t<0||(this._time.splice(0,t),this._components.splice(0,16*t))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(e,t,n,r){this.recalcMatrix(e),t=t||this.computedEye,n=n||d,r=r||this.computedUp,this.setMatrix(e,u(this.computedMatrix,t,n,r));for(var i=0,a=0;a<3;++a)i+=Math.pow(n[a]-t[a],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(e,t,n,r){this.recalcMatrix(e);var i=this.computedInverse;t&&o(i,i,t),n&&s(i,i,n),r&&c(i,i,r),this.setMatrix(e,a(this.computedMatrix,i))};var m=[0,0,0];p.pan=function(e,t,n,r){m[0]=-(t||0),m[1]=-(n||0),m[2]=-(r||0),this.recalcMatrix(e);var i=this.computedInverse;l(i,i,m),this.setMatrix(e,a(i,i))},p.translate=function(e,t,n,r){m[0]=t||0,m[1]=n||0,m[2]=r||0,this.recalcMatrix(e);var i=this.computedMatrix;l(i,i,m),this.setMatrix(e,i)},p.setMatrix=function(e,t){if(!(e<this.lastT())){this._time.push(e);for(var n=0;n<16;++n)this._components.push(t[n])}},p.setDistance=function(e,t){this.computedRadius[0]=t},p.setDistanceLimits=function(e,t){var n=this._limits;n[0]=e,n[1]=t},p.getDistanceLimits=function(e){var t=this._limits;return e?(e[0]=t[0],e[1]=t[1],e):t}},685:(e,t,n)=>{"use strict";e.exports=function(e,t){t||(t=e,e=window);var n=0,i=0,a=0,s={shift:!1,alt:!1,control:!1,meta:!1},o=!1;function c(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==s.alt,s.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==s.shift,s.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==s.control,s.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==s.meta,s.meta=!!e.metaKey),t}function u(e,o){var u=r.x(o),l=r.y(o);"buttons"in o&&(e=0|o.buttons),(e!==n||u!==i||l!==a||c(o))&&(n=0|e,i=u||0,a=l||0,t&&t(n,i,a,s))}function l(e){u(0,e)}function h(){(n||i||a||s.shift||s.alt||s.meta||s.control)&&(i=a=0,n=0,s.shift=s.alt=s.control=s.meta=!1,t&&t(0,0,0,s))}function d(e){c(e)&&t&&t(n,i,a,s)}function f(e){0===r.buttons(e)?u(0,e):u(n,e)}function p(e){u(n|r.buttons(e),e)}function m(e){u(n&~r.buttons(e),e)}function v(){o||(o=!0,e.addEventListener("mousemove",f),e.addEventListener("mousedown",p),e.addEventListener("mouseup",m),e.addEventListener("mouseleave",l),e.addEventListener("mouseenter",l),e.addEventListener("mouseout",l),e.addEventListener("mouseover",l),e.addEventListener("blur",h),e.addEventListener("keyup",d),e.addEventListener("keydown",d),e.addEventListener("keypress",d),e!==window&&(window.addEventListener("blur",h),window.addEventListener("keyup",d),window.addEventListener("keydown",d),window.addEventListener("keypress",d)))}v();var g={element:e};return Object.defineProperties(g,{enabled:{get:function(){return o},set:function(t){t?v():o&&(o=!1,e.removeEventListener("mousemove",f),e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",m),e.removeEventListener("mouseleave",l),e.removeEventListener("mouseenter",l),e.removeEventListener("mouseout",l),e.removeEventListener("mouseover",l),e.removeEventListener("blur",h),e.removeEventListener("keyup",d),e.removeEventListener("keydown",d),e.removeEventListener("keypress",d),e!==window&&(window.removeEventListener("blur",h),window.removeEventListener("keyup",d),window.removeEventListener("keydown",d),window.removeEventListener("keypress",d)))},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),g};var r=n(9294)},675:e=>{var t={left:0,top:0};e.exports=function(e,n,r){n=n||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var i,a=e.clientX||0,s=e.clientY||0,o=(i=n)===window||i===document||i===document.body?t:i.getBoundingClientRect();return r[0]=a-o.left,r[1]=s-o.top,r}},9294:(e,t)=>{"use strict";function n(e){return e.target||e.srcElement||window}t.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){if(2===(t=e.which))return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t;if(1===(t=e.button))return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0},t.element=n,t.x=function(e){if("object"==typeof e){if("offsetX"in e)return e.offsetX;var t=n(e).getBoundingClientRect();return e.clientX-t.left}return 0},t.y=function(e){if("object"==typeof e){if("offsetY"in e)return e.offsetY;var t=n(e).getBoundingClientRect();return e.clientY-t.top}return 0}},6846:(e,t,n)=>{"use strict";var r=n(9810);e.exports=function(e,t,n){"function"==typeof e&&(n=!!t,t=e,e=window);var i=r("ex",e),a=function(e){n&&e.preventDefault();var r=e.deltaX||0,a=e.deltaY||0,s=e.deltaZ||0,o=1;switch(e.deltaMode){case 1:o=i;break;case 2:o=window.innerHeight}if(a*=o,s*=o,(r*=o)||a||s)return t(r,a,s,e)};return e.addEventListener("wheel",a),a}},8918:e=>{"use strict";e.exports=function(e,t,n,r,i,a,s,o,c,u){var l=t+a+u;if(h>0){var h=Math.sqrt(l+1);e[0]=.5*(s-c)/h,e[1]=.5*(o-r)/h,e[2]=.5*(n-a)/h,e[3]=.5*h}else{var d=Math.max(t,a,u);h=Math.sqrt(2*d-l+1),t>=d?(e[0]=.5*h,e[1]=.5*(i+n)/h,e[2]=.5*(o+r)/h,e[3]=.5*(s-c)/h):a>=d?(e[0]=.5*(n+i)/h,e[1]=.5*h,e[2]=.5*(c+s)/h,e[3]=.5*(o-r)/h):(e[0]=.5*(r+o)/h,e[1]=.5*(s+c)/h,e[2]=.5*h,e[3]=.5*(n-i)/h)}return e}},809:(e,t,n)=>{"use strict";e.exports=function(e){var t=(e=e||{}).center||[0,0,0],n=e.rotation||[0,0,0,1],r=e.radius||1;t=[].slice.call(t,0,3),l(n=[].slice.call(n,0,4),n);var i=new h(n,t,Math.log(r));return i.setDistanceLimits(e.zoomMin,e.zoomMax),("eye"in e||"up"in e)&&i.lookAt(0,e.eye,e.center,e.up),i};var r=n(4173),i=n(4727),a=n(7127),s=n(4481),o=n(8918);function c(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function u(e,t,n,r){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2)+Math.pow(r,2))}function l(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=u(n,r,i,a);s>1e-6?(e[0]=n/s,e[1]=r/s,e[2]=i/s,e[3]=a/s):(e[0]=e[1]=e[2]=0,e[3]=1)}function h(e,t,n){this.radius=r([n]),this.center=r(t),this.rotation=r(e),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=h.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(e){this.radius.curve(e),this.center.curve(e),this.rotation.curve(e);var t=this.computedRotation;l(t,t);var n=this.computedMatrix;a(n,t);var r=this.computedCenter,i=this.computedEye,s=this.computedUp,o=Math.exp(this.computedRadius[0]);i[0]=r[0]+o*n[2],i[1]=r[1]+o*n[6],i[2]=r[2]+o*n[10],s[0]=n[1],s[1]=n[5],s[2]=n[9];for(var c=0;c<3;++c){for(var u=0,h=0;h<3;++h)u+=n[c+4*h]*i[h];n[12+c]=-u}},d.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n},d.idle=function(e){this.center.idle(e),this.radius.idle(e),this.rotation.idle(e)},d.flush=function(e){this.center.flush(e),this.radius.flush(e),this.rotation.flush(e)},d.pan=function(e,t,n,r){t=t||0,n=n||0,r=r||0,this.recalcMatrix(e);var i=this.computedMatrix,a=i[1],s=i[5],o=i[9],u=c(a,s,o);a/=u,s/=u,o/=u;var l=i[0],h=i[4],d=i[8],f=l*a+h*s+d*o,p=c(l-=a*f,h-=s*f,d-=o*f);l/=p,h/=p,d/=p;var m=i[2],v=i[6],g=i[10],y=m*a+v*s+g*o,w=m*l+v*h+g*d,b=c(m-=y*a+w*l,v-=y*s+w*h,g-=y*o+w*d);m/=b,v/=b,g/=b;var _=l*t+a*n,I=h*t+s*n,M=d*t+o*n;this.center.move(e,_,I,M);var T=Math.exp(this.computedRadius[0]);T=Math.max(1e-4,T+r),this.radius.set(e,Math.log(T))},d.rotate=function(e,t,n,r){this.recalcMatrix(e),t=t||0,n=n||0;var i=this.computedMatrix,a=i[0],s=i[4],o=i[8],l=i[1],h=i[5],d=i[9],f=i[2],p=i[6],m=i[10],v=t*a+n*l,g=t*s+n*h,y=t*o+n*d,w=-(p*y-m*g),b=-(m*v-f*y),_=-(f*g-p*v),I=Math.sqrt(Math.max(0,1-Math.pow(w,2)-Math.pow(b,2)-Math.pow(_,2))),M=u(w,b,_,I);M>1e-6?(w/=M,b/=M,_/=M,I/=M):(w=b=_=0,I=1);var T=this.computedRotation,E=T[0],A=T[1],k=T[2],S=T[3],C=E*I+S*w+A*_-k*b,x=A*I+S*b+k*w-E*_,P=k*I+S*_+E*b-A*w,R=S*I-E*w-A*b-k*_;if(r){w=f,b=p,_=m;var O=Math.sin(r)/c(w,b,_);w*=O,b*=O,_*=O,R=R*(I=Math.cos(t))-(C=C*I+R*w+x*_-P*b)*w-(x=x*I+R*b+P*w-C*_)*b-(P=P*I+R*_+C*b-x*w)*_}var N=u(C,x,P,R);N>1e-6?(C/=N,x/=N,P/=N,R/=N):(C=x=P=0,R=1),this.rotation.set(e,C,x,P,R)},d.lookAt=function(e,t,n,r){this.recalcMatrix(e),n=n||this.computedCenter,t=t||this.computedEye,r=r||this.computedUp;var a=this.computedMatrix;i(a,t,n,r);var s=this.computedRotation;o(s,a[0],a[1],a[2],a[4],a[5],a[6],a[8],a[9],a[10]),l(s,s),this.rotation.set(e,s[0],s[1],s[2],s[3]);for(var c=0,u=0;u<3;++u)c+=Math.pow(n[u]-t[u],2);this.radius.set(e,.5*Math.log(Math.max(c,1e-6))),this.center.set(e,n[0],n[1],n[2])},d.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},d.setMatrix=function(e,t){var n=this.computedRotation;o(n,t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]),l(n,n),this.rotation.set(e,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;s(r,t);var i=r[15];if(Math.abs(i)>1e-6){var a=r[12]/i,c=r[13]/i,u=r[14]/i;this.recalcMatrix(e);var h=Math.exp(this.computedRadius[0]);this.center.set(e,a-r[2]*h,c-r[6]*h,u-r[10]*h),this.radius.idle(e)}else this.center.idle(e),this.radius.idle(e)},d.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},d.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},d.getDistanceLimits=function(e){var t=this.radius.bounds;return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(e){var t=this.lastT(),n=e.center;n&&this.center.set(t,n[0],n[1],n[2]);var r=e.rotation;r&&this.rotation.set(t,r[0],r[1],r[2],r[3]);var i=e.distance;i&&i>0&&this.radius.set(t,Math.log(i)),this.setDistanceLimits(e.zoomMin,e.zoomMax)}},1885:e=>{e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},2210:(e,t,n)=>{e.exports=n(4600)},698:(e,t,n)=>{e.exports=n.g.performance&&n.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},9810:(e,t,n)=>{"use strict";var r=n(1885);e.exports=o;var i=s("in",document.body);function a(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*o(n[1],e)}function s(e,t){var n=document.createElement("div");n.style.height="128"+e,t.appendChild(n);var r=a(n,"height")/128;return t.removeChild(n),r}function o(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return s(e,t);case"em":return a(t,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6;case"px":return 1}var n=r(e);if(!isNaN(n[0])&&n[1]){var c=o(n[1],t);return"number"==typeof c?n[0]*c:null}return null}},5817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signout=t.signin=t.get_app=void 0;const r=n(3977),i=n(2845),a=n(1305);t.get_app=function(e){const t=(0,r.initializeApp)({apiKey:"AIzaSyBfejITCASniQLBGFdo__tAUA7r-KYgE6Y",authDomain:"mlang-d4add.firebaseapp.com",projectId:"mlang-d4add",storageBucket:"mlang-d4add.appspot.com",messagingSenderId:"287568186330",appId:"1:287568186330:web:fb649ef8f46a526d408ee3",measurementId:"G-E82C66NLBS"}),n=(0,i.getAnalytics)(t),s=(0,a.getAuth)(t);return s.onAuthStateChanged((t=>{e(null==t?void 0:t.displayName,null==t?void 0:t.photoURL)})),{app:t,auth:s,analytics:n}},t.signin=function(e){let t=(0,a.getAuth)(e.app);const n=new a.GithubAuthProvider;(0,a.signInWithPopup)(t,n).then((e=>{}))},t.signout=function(e){(0,a.getAuth)(e.app).signOut(),window.location.href="/"}},1625:(e,t,n)=>{"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.mw=void 0,t.mw=function(e,t,a,s,o){var c,u,l=null;if(s)u=WebAssembly.instantiateStreaming(fetch(t),{wasi_snapshot_preview1:e});else{const r=n(5e3),i=n(4217),a=r.readFileSync(i.resolve("/",t));u=WebAssembly.instantiate(a,{wasi_snapshot_preview1:e})}return new Promise((function(t,n){u.then((function(n){r={run_code:p,highlight_code:m,compile:v,version:c,mw_instance:n.instance,canvas_id:"",text_id:""},i={malloc:n.instance.exports.malloc,free:n.instance.exports.free,compile_code:n.instance.exports.compile_code,highlight_code:n.instance.exports.highlight_code,get_code_size:n.instance.exports.get_code_size,get_version:n.instance.exports.version,strlen:n.instance.exports.strlen,putchar:n.instance.exports.putchar,print:n.instance.exports.print,pow:n.instance.exports.pow,log:n.instance.exports.log,log2:n.instance.exports.log2,memory:n.instance.exports.memory,__stack_pointer:n.instance.exports.__stack_pointer},function(){if(e.setEnv(i.memory,a),i.get_version){let e=i.get_version();c=h(e),r.version=c,i.free(e)}}(),t(r)})).catch((function(e){n(e)}))}));function h(e){const t=i.strlen(e);let n=new Uint8Array(i.memory.buffer,e,t);return(new TextDecoder).decode(n)}function d(e,t){let n=(new TextEncoder).encode(e),r=n.length+1,a=new Uint8Array(i.memory.buffer,t,r);a.set(n),a[n.length]=0}function f(e,t,n){if(null!=o&&null!=o){let r=new Uint8ClampedArray(i.memory.buffer,e,t*n*4);o(r,t,n)}}function p(e,t=!0){if(!r)return a("m loading is failed."),null;let n=i.malloc(10240);d(e,n);let s=i.compile_code(n),o=i.get_code_size();if(!o)return null;let c=function(e,t){let n=new Uint8Array(i.memory.buffer,e,t);var r=new WebAssembly.Module(n);const a=new WebAssembly.Global({value:"i32",mutable:!1},65536);return{start_result:(0,(l=new WebAssembly.Instance(r,{sys:{print:i.print,putchar:i.putchar,memory:i.memory,__memory_base:a,__stack_pointer:i.__stack_pointer,setImageData:f},math:{pow:i.pow,log2:i.log2,log:i.log}})).exports._start)(),code_instance:l,code_bytes:e}}(s,o);return t&&i.free(s),c}function m(e){let t=i.malloc(10240);d(e,t);let n=i.highlight_code(t),r=h(n);return i.free(n),r}function v(e,t){let r=i.malloc(1024);d(e,r);let a=i.compile_code(r),s=i.get_code_size();if(!s)return;let o=new Uint8Array(i.memory.buffer,a,s);n(5e3).writeFileSync(t,o,"binary"),i.free(a)}}},2232:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wasi=void 0,t.wasi=function(){var e,t;function n(){return new DataView(e.buffer)}return{setEnv:function(n,r){e=n,t=r},environ_sizes_get:function(e,t){var r=n();return r.setUint32(e,0,!0),r.setUint32(t,0,!0),0},args_sizes_get:function(e,t){var r=n();return r.setUint32(e,0,!0),r.setUint32(t,0,!0),0},fd_prestat_get:function(e,t){return 8},fd_fdstat_get:function(e,t){var r=n();function i(e,t,n){var i=t;r.setUint32(n?0:4,i,n),r.setUint32(n?4:0,0,n)}return r.setUint8(t,e),r.setUint16(t+2,0,!0),r.setUint16(t+4,0,!0),i(0,0,!0),i(0,0,!0),0},fd_write:function(r,i,a,s){var o=n(),c=0,u=[];return function(t,n){return Array.from({length:n},(function(n,r){var i=t+8*r,a=o.getUint32(i,!0),s=o.getUint32(i+4,!0);return new Uint8Array(e.buffer,a,s)}))}(i,a).forEach((function(e){for(var t=0;t<e.byteLength;t++)u.push(e[t]);c+=t})),1===r&&t(function(e){var t,n,r,i,a,s;for(t="",r=e.length,n=0;n<r;)switch((i=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:a=e[n++],t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[n++],s=e[n++],t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&s)<<0)}return t}(u)),o.setUint32(s,c,!0),0},fd_prestat_dir_name:function(e,t,n){return 28},environ_get:function(e,t){return 0},args_get:function(e,t){return 0},poll_oneoff:function(e,t,n,r){return 52},proc_exit:function(e){return 52},fd_close:function(e){return 52},fd_seek:function(e,t,n,r){}}}},1149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColormapData=t.AddColors=void 0;const r=n(1368);t.AddColors=(e,n,i,a)=>{const s=(0,t.ColormapData)(e);if(s)return a<n&&(a=n),a>i&&(a=i),n==i?[0,0,0]:r(s,(a-n)/(i-n))},t.ColormapData=e=>{let t;switch(e){case"hsv":t=[[1,0,0],[1,.5,0],[.97,1,.01],[0,.99,.04],[0,.98,.52],[0,.98,1],[.01,.49,1],[.03,0,.99],[1,0,.96],[1,0,.49],[1,0,.02]];break;case"hot":t=[[0,0,0],[.3,0,0],[.6,0,0],[.9,0,0],[.93,.27,0],[.97,.55,0],[1,.82,0],[1,.87,.25],[1,.91,.5],[1,.96,.75],[1,1,1]];break;case"cool":t=[[.49,0,.7],[.45,0,.85],[.42,.15,.89],[.38,.29,.93],[.27,.57,.91],[0,.8,.77],[0,.97,.57],[0,.98,.46],[0,1,.35],[.16,1,.03],[.58,1,0]];break;case"spring":t=[[1,0,1],[1,.1,.9],[1,.2,.8],[1,.3,.7],[1,.4,.6],[1,.5,.5],[1,.6,.4],[1,.7,.3],[1,.8,.2],[1,.9,.1],[1,1,0]];break;case"summer":t=[[0,.5,.4],[.1,.55,.4],[.2,.6,.4],[.3,.65,.4],[.4,.7,.4],[.5,.75,.4],[.6,.8,.4],[.7,.85,.4],[.8,.9,.4],[.9,.95,.4],[1,1,.4]];break;case"autumn":t=[[1,0,0],[1,.1,0],[1,.2,0],[1,.3,0],[1,.4,0],[1,.5,0],[1,.6,0],[1,.7,0],[1,.8,0],[1,.9,0],[1,1,0]];break;case"winter":t=[[0,0,1],[0,.1,.95],[0,.2,.9],[0,.3,.85],[0,.4,.8],[0,.5,.75],[0,.6,.7],[0,.7,.65],[0,.8,.6],[0,.9,.55],[0,1,.5]];break;case"bone":t=[[0,0,0],[.08,.08,.11],[.16,.16,.23],[.25,.25,.34],[.33,.33,.45],[.41,.44,.54],[.5,.56,.62],[.58,.67,.7],[.66,.78,.78],[.83,.89,.89],[1,1,1]];break;case"copper":t=[[0,0,0],[.13,.08,.05],[.25,.16,.1],[.38,.24,.15],[.5,.31,.2],[.62,.39,.25],[.75,.47,.3],[.87,.55,.35],[1,.63,.4],[1,.71,.45],[1,.78,.5]];break;case"greys":t=[[0,0,0],[.1,.1,.1],[.2,.2,.2],[.3,.3,.3],[.4,.4,.4],[.5,.5,.5],[.6,.6,.6],[.7,.7,.7],[.8,.8,.8],[.9,.9,.9],[1,1,1]];break;default:t=[[0,0,.51],[0,.24,.67],[.01,.49,.78],[.01,.75,.89],[.02,1,1],[.51,1,.5],[1,1,0],[.99,.67,0],[.99,.33,0],[.98,0,0],[.5,0,0]]}return t}},127:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckWebGPU=t.InitGPU=t.CreateGPUBuffer=t.CreateGPUBufferUint=t.CreateViewProjection=t.CreateTransforms=t.CreateAnimation=void 0;const i=n(887);t.CreateAnimation=(e,t=i.vec3.fromValues(0,0,0),n=!0)=>{requestAnimationFrame((function r(){n?(t[0]+=.01,t[1]+=.01,t[2]+=.01):t=[0,0,0],e(),requestAnimationFrame(r)}))},t.CreateTransforms=(e,t=[0,0,0],n=[0,0,0],r=[1,1,1])=>{const a=i.mat4.create(),s=i.mat4.create(),o=i.mat4.create(),c=i.mat4.create(),u=i.mat4.create();i.mat4.fromTranslation(c,t),i.mat4.fromXRotation(a,n[0]),i.mat4.fromYRotation(s,n[1]),i.mat4.fromZRotation(o,n[2]),i.mat4.fromScaling(u,r),i.mat4.multiply(e,a,u),i.mat4.multiply(e,s,e),i.mat4.multiply(e,o,e),i.mat4.multiply(e,c,e)},t.CreateViewProjection=(e=1,t=[2,2,4],n=[0,0,0],r=[0,1,0])=>{const a=i.mat4.create(),s=i.mat4.create(),o=i.mat4.create();return i.mat4.perspective(s,2*Math.PI/5,e,.1,100),i.mat4.lookAt(a,t,n,r),i.mat4.multiply(o,s,a),{viewMatrix:a,projectionMatrix:s,viewProjectionMatrix:o,cameraOption:{eye:t,center:n,zoomMax:100,zoomSpeed:2}}},t.CreateGPUBufferUint=(e,t,n=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST)=>{const r=e.createBuffer({size:t.byteLength,usage:n,mappedAtCreation:!0});return new Uint32Array(r.getMappedRange()).set(t),r.unmap(),r},t.CreateGPUBuffer=(e,t,n=GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST)=>{const r=e.createBuffer({size:t.byteLength,usage:n,mappedAtCreation:!0});return new Float32Array(r.getMappedRange()).set(t),r.unmap(),r},t.InitGPU=()=>r(void 0,void 0,void 0,(function*(){var e;const n=document.getElementById("canvas-webgpu");if(!n)return;if((0,t.CheckWebGPU)().includes("Your current browser does not support WebGPU!"))throw"Your current browser does not support WebGPU!";const r=yield null===(e=navigator.gpu)||void 0===e?void 0:e.requestAdapter(),i=yield null==r?void 0:r.requestDevice(),a=n.getContext("webgpu"),s=navigator.gpu.getPreferredCanvasFormat();return a.configure({device:i,format:s,alphaMode:"opaque"}),{device:i,canvas:n,format:s,context:a}})),t.CheckWebGPU=()=>{let e="Great, your current browser supports WebGPU!";return navigator.gpu||(e='Your current browser does not support WebGPU! Make sure you are on a system \n                    with WebGPU enabled. Currently, SPIR-WebGPU is only supported in  \n                    <a href="https://www.google.com/chrome/canary/">Chrome canary</a>\n                    with the flag "enable-unsafe-webgpu" enabled. See the \n                    <a href="https://github.com/gpuweb/gpuweb/wiki/Implementation-Status"> \n                    Implementation Status</a> page for more details.                   \n                '),e}},2258:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.draw_surface=void 0;const i=n(9808),a=n(2758),s=n(2315);t.draw_surface=function(){((e=!0,t="jet",n=2,o=0)=>{r(void 0,void 0,void 0,(function*(){const r=(0,i.ParametricSurfaceData)(a.Seashell,0,6*Math.PI,0,2*Math.PI,200,40,-4,4,-4,4,n,o,t);yield(0,s.CreateSurfaceWithColormap)(null==r?void 0:r.vertexData,null==r?void 0:r.normalData,null==r?void 0:r.colorData,e)}))})(!0,"jet",2,0)}},2758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpherePosition=t.CylinderPosition=t.ConePosition=t.TorusPosition=t.Sinc=t.Peaks=t.KleinBottle=t.Wellenkugel=t.Seashell=void 0;const r=n(887);t.Seashell=(e,t,n=[0,0,0])=>{let i=2*(-1+Math.exp(e/(6*Math.PI)))*Math.sin(e)*Math.pow(Math.cos(t/2),2),a=1-Math.exp(e/(3*Math.PI))-Math.sin(t)+Math.exp(e/(6*Math.PI))*Math.sin(t),s=2*(1-Math.exp(e/(6*Math.PI)))*Math.cos(e)*Math.pow(Math.cos(t/2),2);return r.vec3.fromValues(i+n[0],a+n[1],s+n[2])},t.Wellenkugel=(e,t,n=[0,0,0])=>{let i=e*Math.cos(Math.cos(e))*Math.sin(t),a=e*Math.sin(Math.cos(e)),s=e*Math.cos(Math.cos(e))*Math.cos(t);return r.vec3.fromValues(i+n[0],a+n[1],s+n[2])},t.KleinBottle=(e,t,n=[0,0,0])=>{let i=2/15*(3+5*Math.cos(e)*Math.sin(e))*Math.sin(t),a=-1/15*Math.sin(e)*(3*Math.cos(t)-3*Math.pow(Math.cos(e),2)*Math.cos(t)-48*Math.pow(Math.cos(e),4)*Math.cos(t)+48*Math.pow(Math.cos(e),6)*Math.cos(t)-60*Math.sin(e)+5*Math.cos(e)*Math.cos(t)*Math.sin(e)-5*Math.pow(Math.cos(e),3)*Math.cos(t)*Math.sin(e)-80*Math.pow(Math.cos(e),5)*Math.cos(t)*Math.sin(e)+80*Math.pow(Math.cos(e),7)*Math.cos(t)*Math.sin(e)),s=-2/15*Math.cos(e)*(3*Math.cos(t)-30*Math.sin(e)+90*Math.pow(Math.cos(e),4)*Math.sin(e)-60*Math.pow(Math.cos(e),6)*Math.sin(e)+5*Math.cos(e)*Math.cos(t)*Math.sin(e));return r.vec3.fromValues(i+n[0],a+n[1],s+n[2])},t.Peaks=(e,t,n=[0,0,0])=>{let i=3*(1-t)*(1-t)*Math.exp(-t*t-(e+1)*(e+1))-10*(t/5-t*t*t-e*e*e*e*e)*Math.exp(-t*t-e*e)-1/3*Math.exp(-(t+1)*(t+1)-e*e);return r.vec3.fromValues(e+n[0],i+n[1],t+n[2])},t.Sinc=(e,t,n=[0,0,0])=>{let i=Math.sqrt(e*e+t*t)+1e-5,a=Math.sin(i)/i;return r.vec3.fromValues(e+n[0],a+n[1],t+n[2])},t.TorusPosition=(e,t,n,i,a=[0,0,0])=>{let s=Math.sin(n*Math.PI/180),o=Math.cos(n*Math.PI/180),c=Math.sin(i*Math.PI/180),u=Math.cos(i*Math.PI/180);return r.vec3.fromValues((e+t*u)*o+a[0],t*c+a[1],-(e+t*u)*s+a[2])},t.ConePosition=(e,t,n,i=[0,0,0])=>{let a=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180);return r.vec3.fromValues(e*s+i[0],n+i[1],-e*a+i[2])},t.CylinderPosition=(e,t,n,i=[0,0,0])=>{let a=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180);return r.vec3.fromValues(e*s+i[0],n+i[1],-e*a+i[2])},t.SpherePosition=(e,t,n,i=[0,0,0])=>{let a=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180),o=Math.sin(n*Math.PI/180),c=Math.cos(n*Math.PI/180);return r.vec3.fromValues(e*a*c+i[0],e*s+i[1],-e*a*o+i[2])}},9808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSurfaceData=t.ParametricSurfaceData=void 0;const r=n(887),i=n(1149);t.ParametricSurfaceData=(e,t,n,i,o,c,u,l,h,d,f,p=1,m=0,v="jet",g=[0,0,0])=>{if(c<2||u<2)return;const y=(n-t)/(c-1),w=(o-i)/(u-1);let b,_,I,M=[],T=0,E=0;for(let n=0;n<c;n++){b=t+n*y;let r=[];for(let t=0;t<u;t++)_=i+t*w,I=e(b,_,g),T=I[1]<T?I[1]:T,E=I[1]>E?I[1]:E,r.push(I);M.push(r)}const A=T-m*(E-T),k=E+m*(E-T);for(let e=0;e<c;e++)for(let t=0;t<u;t++)M[e][t]=a(M[e][t],l,h,A,k,d,f,p);const S=a(r.vec3.fromValues(0,T,0),l,h,A,k,d,f,p)[1],C=a(r.vec3.fromValues(0,E,0),l,h,A,k,d,f,p)[1];let x,P,R,O,N=[],D=[],L=[];for(let e=0;e<c-1;e++)for(let t=0;t<u-1;t++){x=M[e][t],P=M[e+1][t],R=M[e+1][t+1],O=M[e][t+1];let n=s(x,P,R,O,S,C,v);N.push(n.vertex.flat()),D.push(n.normal.flat()),L.push(n.color.flat())}return{vertexData:new Float32Array(N.flat()),normalData:new Float32Array(D.flat()),colorData:new Float32Array(L.flat())}},t.SimpleSurfaceData=(e,t,n,i,o,c,u,l=1,h=0,d="jet",f=[0,0,0])=>{if(c<2||u<2)return;const p=(n-t)/(c-1),m=(o-i)/(u-1);let v,g,y,w=[],b=0,_=0;for(let n=0;n<c;n++){v=t+n*p;let r=[];for(let t=0;t<u;t++)g=i+t*m,y=e(v,g,f),r.push(y),b=y[1]<b?y[1]:b,_=y[1]>_?y[1]:_;w.push(r)}const I=b-h*(_-b),M=_+h*(_-b);for(let e=0;e<c;e++)for(let r=0;r<u;r++)w[e][r]=a(w[e][r],t,n,I,M,i,o,l);const T=a(r.vec3.fromValues(0,b,0),t,n,I,M,i,o,l)[1],E=a(r.vec3.fromValues(0,_,0),t,n,I,M,i,o,l)[1];let A,k,S,C,x=[],P=[],R=[];for(let e=0;e<c-1;e++)for(let t=0;t<u-1;t++){A=w[e][t],k=w[e][t+1],S=w[e+1][t+1],C=w[e+1][t];let n=s(A,k,S,C,T,E,d);x.push(n.vertex.flat()),P.push(n.normal.flat()),R.push(n.color.flat())}return{vertexData:new Float32Array(x.flat()),normalData:new Float32Array(P.flat()),colorData:new Float32Array(R.flat())}};const a=(e,t,n,r,i,a,s,o=1)=>(e[0]=o*(2*(e[0]-t)/(n-t)-1),e[1]=o*(2*(e[1]-r)/(i-r)-1),e[2]=o*(2*(e[2]-a)/(s-a)-1),e),s=(e,t,n,a,s,o,c)=>{let u,l,h,d=[],f=[],p=[];d.push([e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[0],n[1],n[2],a[0],a[1],a[2],e[0],e[1],e[2]]),u=r.vec3.subtract(r.vec3.create(),n,e),l=r.vec3.subtract(r.vec3.create(),a,t),h=r.vec3.cross(r.vec3.create(),u,l),r.vec3.normalize(h,h),f.push([h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2],h[0],h[1],h[2]]);let m=(0,i.AddColors)(c,s,o,e[1]),v=(0,i.AddColors)(c,s,o,t[1]),g=(0,i.AddColors)(c,s,o,n[1]),y=(0,i.AddColors)(c,s,o,a[1]);return p.push([m[0],m[1],m[2],v[0],v[1],v[2],g[0],g[1],g[2],g[0],g[1],g[2],y[0],y[1],y[2],m[0],m[1],m[2]]),{vertex:d,normal:f,color:p}}},2315:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateSurfaceWithColormap=void 0;const a=n(127),s=i(n(1281)),o=i(n(1827)),c=n(887);t.CreateSurfaceWithColormap=(e,t,i,u=!0)=>r(void 0,void 0,void 0,(function*(){const r=yield(0,a.InitGPU)();if(!r)return;const l=r.device,h=e.length/3,d=(0,a.CreateGPUBuffer)(l,e),f=(0,a.CreateGPUBuffer)(l,t),p=(0,a.CreateGPUBuffer)(l,i),m=l.createRenderPipeline({layout:"auto",vertex:{module:l.createShaderModule({code:s.default}),entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,format:"float32x3",offset:0}]},{arrayStride:12,attributes:[{shaderLocation:1,format:"float32x3",offset:0}]},{arrayStride:12,attributes:[{shaderLocation:2,format:"float32x3",offset:0}]}]},fragment:{module:l.createShaderModule({code:o.default}),entryPoint:"main",targets:[{format:r.format}]},primitive:{topology:"triangle-list"},depthStencil:{format:"depth24plus",depthWriteEnabled:!0,depthCompare:"less"}}),v=c.mat4.create(),g=c.mat4.create();let y=c.mat4.create(),w=c.mat4.create();const b=(0,a.CreateViewProjection)(r.canvas.width/r.canvas.height);w=b.viewProjectionMatrix;let _=c.vec3.fromValues(0,0,0);var I=n(4478)(r.canvas,b.cameraOption);let M=new Float32Array(b.cameraOption.eye),T=M;const E=l.createBuffer({size:192,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),A=l.createBuffer({size:32,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});u&&(l.queue.writeBuffer(E,0,b.viewProjectionMatrix),l.queue.writeBuffer(A,0,T),l.queue.writeBuffer(A,16,M));const k=l.createBindGroup({layout:m.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:E,offset:0,size:192}},{binding:1,resource:{buffer:A,offset:0,size:32}}]});let S=r.context.getCurrentTexture().createView();const C=l.createTexture({size:[r.canvas.width,r.canvas.height,1],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),x={colorAttachments:[{view:S,clearValue:{r:.2,g:.247,b:.314,a:1},loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:C.createView(),depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}};(0,a.CreateAnimation)((function(){if(!r)return;if(!u&&I.tick()){const e=b.projectionMatrix;y=I.matrix,c.mat4.multiply(w,e,y),M=new Float32Array(I.eye.flat()),T=M,l.queue.writeBuffer(E,0,w),l.queue.writeBuffer(A,0,M),l.queue.writeBuffer(A,16,T)}(0,a.CreateTransforms)(g,[0,0,0],_),c.mat4.invert(v,g),c.mat4.transpose(v,v),l.queue.writeBuffer(E,64,g),l.queue.writeBuffer(E,128,v),S=r.context.getCurrentTexture().createView(),x.colorAttachments[0].view=S;const e=l.createCommandEncoder(),t=e.beginRenderPass(x);t.setPipeline(m),t.setVertexBuffer(0,d),t.setVertexBuffer(1,f),t.setVertexBuffer(2,p),t.setBindGroup(0,k),t.draw(h),t.end(),l.queue.submit([e.finish()])}),_,u)}))},5451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initZoom=void 0,t.initZoom=function(e,t,n,r,i,a,s,o){function c(e){u.x=e.clientX,u.y=e.clientY}var u={x:0,y:0,startX:0,startY:0},l=null,h=s,d=o,f=n,p=r,m=i,v=a,g=!1,y={history:Array(),cur_pos:-1,init:function(){g=!0,y.history=[],y.cur_pos=-1,w()},backward:function(){y.cur_pos>0&&(y.cur_pos-=1,b())},forward:function(){y.cur_pos<y.history.length-1&&(y.cur_pos+=1,b())}};function w(){let e=y.history.length-1-y.cur_pos;for(let t=0;t<e;t++)y.history.pop();y.history.push({x0:f,y0:p,x1:m,y1:v}),y.cur_pos+=1}function b(){let e=y.history[y.cur_pos];f=e.x0,p=e.y0,m=e.x1,v=e.y1,t(f,p,m,v)}function _(t){c(t),u.startX=u.x,u.startY=u.y,(l=document.createElement("div")).className="rectangle",l.style.left=u.x+"px",l.style.top=u.y+"px",e.appendChild(l),e.style.cursor="crosshair"}function I(e){if(c(e),null!==l){l.style.width=Math.abs(u.x-u.startX)+"px",l.style.height=Math.abs(u.y-u.startY)+"px";let e=u.x<u.startX?u.x:u.startX,t=u.y<u.startY?u.y:u.startY;e+=window.pageXOffset,t+=window.pageYOffset,l.style.left=e+"px",l.style.top=t+"px"}}function M(n){if(!l)return;e.removeChild(l),l=null,e.style.cursor="default";var r=e.getBoundingClientRect(),i=Math.min(u.startX,u.x)-r.left,a=Math.min(u.startY,u.y)-r.top,s=Math.max(u.startX,u.x)-r.left,o=Math.max(u.startY,u.y)-r.top,c=(m-f)/h,g=(v-p)/d;let y=f,b=p;f=y+c*i,p=b+g*a,m=y+c*s,v=b+g*o,w(),t(f,p,m,v)}return e.onmousemove=I,e.ontouchmove=function(e){1==e.touches.length&&I(e.touches[0])},e.ontouchstart=function(e){1==e.touches.length&&_(e.touches[0])},e.ontouchend=function(e){M()},e.onclick=function(t){g&&(3!=t.which?null!==l?M():_(t):l&&(e.removeChild(l),l=null))},y}},1827:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="struct Uniforms {\n    lightPosition : vec4<f32>,\n    eyePosition : vec4<f32>,\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\nstruct Input {\n    @location(0) vPosition : vec4<f32>,\n    @location(1) vNormal : vec4<f32>,\n    @location(2) vColor : vec3<f32>,\n};\n@fragment\nfn main(input: Input) -> @location(0) vec4<f32> {\n    let N:vec3<f32> = normalize(input.vNormal.xyz);                \n    let L:vec3<f32> = normalize(uniforms.lightPosition.xyz - input.vPosition.xyz);     \n    let V:vec3<f32> = normalize(uniforms.eyePosition.xyz - input.vPosition.xyz);          \n    let H:vec3<f32> = normalize(L + V);\n    let twoSide:i32 = 1;\n    let diffuseIntensity:f32 = 0.4;\n    var diffuse:f32 = diffuseIntensity * max(dot(N, L), 0.0);\n    if(twoSide == 1){\n        diffuse = diffuse + diffuseIntensity * max(dot(-N, L), 0.0);\n    } \n    var specular:f32;\n    let isPhong:i32 = 0;\n    let specularIntensity:f32 = 0.4;\n    let ambientIntensity:f32 = 0.2;\n    let shininess:f32 = 30.0;\n    let specularColor:vec3<f32> = vec3<f32>(1.0, 1.0, 1.0);\n    if(isPhong == 1){                   \n        specular = specularIntensity * pow(max(dot(V, reflect(-L, N)),0.0), shininess);\n        if(twoSide == 1) {\n            specular = specular + specularIntensity * pow(max(dot(V, reflect(-L, -N)),0.0), shininess);\n        }\n    } else {\n        specular = specularIntensity * pow(max(dot(N, H),0.0), shininess);\n        if(twoSide == 1){                     \n            specular = specular + specularIntensity * pow(max(dot(-N, H),0.0), shininess);\n        }\n    }               \n    let ambient:f32 = ambientIntensity;\n    let finalColor:vec3<f32> = input.vColor * (ambient + diffuse) + specularColor*specular; \n    return vec4<f32>(finalColor, 1.0);\n}\n"},1281:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="struct Uniforms {\n    viewProjectionMatrix : mat4x4<f32>,\n    modelMatrix : mat4x4<f32>,      \n    normalMatrix : mat4x4<f32>,            \n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\nstruct Input {\n    @location(0) position : vec4<f32>,\n    @location(1) normal : vec4<f32>,\n    @location(2) color : vec3<f32>,\n};\n\nstruct Output {\n    @builtin(position) Position : vec4<f32>,\n    @location(0) vPosition : vec4<f32>,\n    @location(1) vNormal : vec4<f32>,\n    @location(2) vColor : vec3<f32>,\n};\n\n@vertex\nfn main(input: Input) -> Output {        \n    var output: Output;        \n    let mPosition:vec4<f32> = uniforms.modelMatrix * input.position; \n    output.vPosition = mPosition;                  \n    output.vNormal =  uniforms.normalMatrix*input.normal;\n    output.Position = uniforms.viewProjectionMatrix * mPosition;     \n    output.vColor = input.color;          \n    return output;\n}\n"},8786:(e,t,n)=>{"use strict";e.exports=function(e){var t=(e=e||{}).center||[0,0,0],n=e.up||[0,1,0],r=e.right||h(n),i=e.radius||1,a=e.theta||0,l=e.phi||0;if(t=[].slice.call(t,0,3),n=[].slice.call(n,0,3),o(n,n),r=[].slice.call(r,0,3),o(r,r),"eye"in e){var f=e.eye,p=[f[0]-t[0],f[1]-t[1],f[2]-t[2]];s(r,p,n),u(r[0],r[1],r[2])<1e-6?r=h(n):o(r,r),i=u(p[0],p[1],p[2]);var m=c(n,p)/i,v=c(r,p)/i;l=Math.acos(m),a=Math.acos(v)}return i=Math.log(i),new d(e.zoomMin,e.zoomMax,t,n,r,i,a,l)};var r=n(4173),i=n(4481),a=n(397),s=n(3858),o=n(91),c=n(8368);function u(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function l(e){return Math.min(1,Math.max(-1,e))}function h(e){var t=Math.abs(e[0]),n=Math.abs(e[1]),r=Math.abs(e[2]),i=[0,0,0];t>Math.max(n,r)?i[2]=1:n>Math.max(t,r)?i[0]=1:i[1]=1;for(var a=0,s=0,c=0;c<3;++c)a+=e[c]*e[c],s+=i[c]*e[c];for(c=0;c<3;++c)i[c]-=s/a*e[c];return o(i,i),i}function d(e,t,n,i,a,s,o,c){this.center=r(n),this.up=r(i),this.right=r(a),this.radius=r([s]),this.angle=r([o,c]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(e,t),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var u=0;u<16;++u)this.computedMatrix[u]=.5;this.recalcMatrix(0)}var f=d.prototype;f.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},f.getDistanceLimits=function(e){var t=this.radius.bounds[0];return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},f.recalcMatrix=function(e){this.center.curve(e),this.up.curve(e),this.right.curve(e),this.radius.curve(e),this.angle.curve(e);for(var t=this.computedUp,n=this.computedRight,r=0,i=0,a=0;a<3;++a)i+=t[a]*n[a],r+=t[a]*t[a];var c=Math.sqrt(r),l=0;for(a=0;a<3;++a)n[a]-=t[a]*i/r,l+=n[a]*n[a],t[a]/=c;var h=Math.sqrt(l);for(a=0;a<3;++a)n[a]/=h;var d=this.computedToward;s(d,t,n),o(d,d);var f=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],m=this.computedAngle[1],v=Math.cos(p),g=Math.sin(p),y=Math.cos(m),w=Math.sin(m),b=this.computedCenter,_=v*y,I=g*y,M=w,T=-v*w,E=-g*w,A=y,k=this.computedEye,S=this.computedMatrix;for(a=0;a<3;++a){var C=_*n[a]+I*d[a]+M*t[a];S[4*a+1]=T*n[a]+E*d[a]+A*t[a],S[4*a+2]=C,S[4*a+3]=0}var x=S[1],P=S[5],R=S[9],O=S[2],N=S[6],D=S[10],L=P*D-R*N,U=R*O-x*D,F=x*N-P*O,z=u(L,U,F);for(L/=z,U/=z,F/=z,S[0]=L,S[4]=U,S[8]=F,a=0;a<3;++a)k[a]=b[a]+S[2+4*a]*f;for(a=0;a<3;++a){l=0;for(var q=0;q<3;++q)l+=S[a+4*q]*k[q];S[12+a]=-l}S[15]=1},f.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n};var p=[0,0,0];f.rotate=function(e,t,n,r){if(this.angle.move(e,t,n),r){this.recalcMatrix(e);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var s=this.computedUp,o=this.computedRight,c=this.computedToward,u=0;u<3;++u)i[4*u]=s[u],i[4*u+1]=o[u],i[4*u+2]=c[u];for(a(i,i,r,p),u=0;u<3;++u)s[u]=i[4*u],o[u]=i[4*u+1];this.up.set(e,s[0],s[1],s[2]),this.right.set(e,o[0],o[1],o[2])}},f.pan=function(e,t,n,r){t=t||0,n=n||0,r=r||0,this.recalcMatrix(e);var i=this.computedMatrix,a=(Math.exp(this.computedRadius[0]),i[1]),s=i[5],o=i[9],c=u(a,s,o);a/=c,s/=c,o/=c;var l=i[0],h=i[4],d=i[8],f=l*a+h*s+d*o,p=u(l-=a*f,h-=s*f,d-=o*f),m=(l/=p)*t+a*n,v=(h/=p)*t+s*n,g=(d/=p)*t+o*n;this.center.move(e,m,v,g);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+r),this.radius.set(e,Math.log(y))},f.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},f.setMatrix=function(e,t,n,r){var a=1;"number"==typeof n&&(a=0|n),(a<0||a>3)&&(a=1);var s=(a+2)%3;t||(this.recalcMatrix(e),t=this.computedMatrix);var o=t[a],c=t[a+4],h=t[a+8];if(r){var d=Math.abs(o),f=Math.abs(c),p=Math.abs(h),m=Math.max(d,f,p);d===m?(o=o<0?-1:1,c=h=0):p===m?(h=h<0?-1:1,o=c=0):(c=c<0?-1:1,o=h=0)}else{var v=u(o,c,h);o/=v,c/=v,h/=v}var g,y,w=t[s],b=t[s+4],_=t[s+8],I=w*o+b*c+_*h,M=u(w-=o*I,b-=c*I,_-=h*I),T=c*(_/=M)-h*(b/=M),E=h*(w/=M)-o*_,A=o*b-c*w,k=u(T,E,A);if(T/=k,E/=k,A/=k,this.center.jump(e,H,W,$),this.radius.idle(e),this.up.jump(e,o,c,h),this.right.jump(e,w,b,_),2===a){var S=t[1],C=t[5],x=t[9],P=S*w+C*b+x*_,R=S*T+C*E+x*A;g=L<0?-Math.PI/2:Math.PI/2,y=Math.atan2(R,P)}else{var O=t[2],N=t[6],D=t[10],L=O*o+N*c+D*h,U=O*w+N*b+D*_,F=O*T+N*E+D*A;g=Math.asin(l(L)),y=Math.atan2(F,U)}this.angle.jump(e,y,g),this.recalcMatrix(e);var z=t[2],q=t[6],j=t[10],V=this.computedMatrix;i(V,t);var B=V[15],H=V[12]/B,W=V[13]/B,$=V[14]/B,G=Math.exp(this.computedRadius[0]);this.center.jump(e,H-z*G,W-q*G,$-j*G)},f.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},f.idle=function(e){this.center.idle(e),this.up.idle(e),this.right.idle(e),this.radius.idle(e),this.angle.idle(e)},f.flush=function(e){this.center.flush(e),this.up.flush(e),this.right.flush(e),this.radius.flush(e),this.angle.flush(e)},f.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},f.lookAt=function(e,t,n,r){this.recalcMatrix(e),t=t||this.computedEye,n=n||this.computedCenter;var i=(r=r||this.computedUp)[0],a=r[1],s=r[2],o=u(i,a,s);if(!(o<1e-6)){i/=o,a/=o,s/=o;var c=t[0]-n[0],h=t[1]-n[1],d=t[2]-n[2],f=u(c,h,d);if(!(f<1e-6)){c/=f,h/=f,d/=f;var p=this.computedRight,m=p[0],v=p[1],g=p[2],y=i*m+a*v+s*g,w=u(m-=y*i,v-=y*a,g-=y*s);if(!(w<.01&&(w=u(m=a*d-s*h,v=s*c-i*d,g=i*h-a*c))<1e-6)){m/=w,v/=w,g/=w,this.up.set(e,i,a,s),this.right.set(e,m,v,g),this.center.set(e,n[0],n[1],n[2]),this.radius.set(e,Math.log(f));var b=a*g-s*v,_=s*m-i*g,I=i*v-a*m,M=u(b,_,I),T=i*c+a*h+s*d,E=m*c+v*h+g*d,A=(b/=M)*c+(_/=M)*h+(I/=M)*d,k=Math.asin(l(T)),S=Math.atan2(A,E),C=this.angle._state,x=C[C.length-1],P=C[C.length-2];x%=2*Math.PI;var R=Math.abs(x+2*Math.PI-S),O=Math.abs(x-S),N=Math.abs(x-2*Math.PI-S);R<O&&(x+=2*Math.PI),N<O&&(x-=2*Math.PI),this.angle.jump(this.angle.lastT(),x,P),this.angle.set(e,S,k)}}}}},5e3:()=>{},4217:()=>{},2238:(e,t,n)=>{"use strict";n.d(t,{Af:()=>f,C6:()=>A,H9:()=>m,Jn:()=>M,KN:()=>S,Mq:()=>E,P2:()=>k,TP:()=>C,Ub:()=>x,Vr:()=>v,Xd:()=>g,Z8:()=>b,ZF:()=>T,ZR:()=>a.ZR,l4:()=>h,lz:()=>p,qX:()=>y,wN:()=>w});var r=n(8463),i=n(3333),a=n(4444),s=n(4424);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const c="@firebase/app",u="0.9.1",l=new i.Yd("@firebase/app"),h="[DEFAULT]",d={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function m(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function v(e,t){e.container.addOrOverwriteComponent(t)}function g(e){const t=e.name;if(p.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;p.set(t,e);for(const t of f.values())m(t,e);return!0}function y(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function w(e,t,n=h){y(e,t).clearInstance(n)}function b(){p.clear()}const _=new a.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class I{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}const M="9.16.0";function T(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!=typeof s||!s)throw _.create("bad-app-name",{appName:String(s)});if(n||(n=(0,a.aH)()),!n)throw _.create("no-options");const o=f.get(s);if(o){if((0,a.vZ)(n,o.options)&&(0,a.vZ)(i,o.config))return o;throw _.create("duplicate-app",{appName:s})}const c=new r.H0(s);for(const e of p.values())c.addComponent(e);const u=new I(n,i,c);return f.set(s,u),u}function E(e=h){const t=f.get(e);if(!t&&e===h)return T();if(!t)throw _.create("no-app",{appName:e});return t}function A(){return Array.from(f.values())}async function k(e){const t=e.name;f.has(t)&&(f.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function S(e,t,n){var i;let a=null!==(i=d[e])&&void 0!==i?i:e;n&&(a+=`-${n}`);const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${a}" with version "${t}":`];return s&&e.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}g(new r.wA(`${a}-version`,(()=>({library:a,version:t})),"VERSION"))}function C(e,t){if(null!==e&&"function"!=typeof e)throw _.create("invalid-log-argument");(0,i.Am)(e,t)}function x(e){(0,i.Ub)(e)}const P="firebase-heartbeat-store";let R=null;function O(){return R||(R=(0,s.X3)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(P)}}).catch((e=>{throw _.create("idb-open",{originalErrorMessage:e.message})}))),R}async function N(e,t){try{const n=(await O()).transaction(P,"readwrite"),r=n.objectStore(P);return await r.put(t,D(e)),n.done}catch(e){if(e instanceof a.ZR)l.warn(e.message);else{const t=_.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}function D(e){return`${e.name}!${e.options.appId}`}class L{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new F(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=U();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=U(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),z(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,a.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function U(){return(new Date).toISOString().substring(0,10)}class F{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.hl)()&&(0,a.eu)().then((()=>!0)).catch((()=>!1))}async read(){return await this._canUseIndexedDBPromise&&await async function(e){try{return(await O()).transaction(P).objectStore(P).get(D(e))}catch(e){if(e instanceof a.ZR)l.warn(e.message);else{const t=_.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return N(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return N(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function z(e){return(0,a.L)(JSON.stringify({version:2,heartbeats:e})).length}g(new r.wA("platform-logger",(e=>new o(e)),"PRIVATE")),g(new r.wA("heartbeat",(e=>new L(e)),"PRIVATE")),S(c,u,""),S(c,u,"esm2017"),S("fire-js","")},8463:(e,t,n)=>{"use strict";n.d(t,{H0:()=>o,wA:()=>i});var r=n(4444);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=a){return this.instances.has(e)}getOptions(e=a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===a?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=a){return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},3333:(e,t,n)=>{"use strict";n.d(t,{Am:()=>h,Ub:()=>l,Yd:()=>u,in:()=>i});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=o[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:(t,n,...a)=>{const s=a.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:a,type:t.name})}}}},2845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getAnalytics:()=>pe,initializeAnalytics:()=>me,isSupported:()=>ve,logEvent:()=>Ie,setAnalyticsCollectionEnabled:()=>be,setConsent:()=>Me,setCurrentScreen:()=>ge,setDefaultEventParameters:()=>_e,setUserId:()=>ye,setUserProperties:()=>we,settings:()=>de});var r=n(2238),i=n(3333),a=n(4444),s=n(8463),o=n(4424);const c="@firebase/installations",u="0.6.1",l=`w:${u}`,h="FIS_v2",d=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function f(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function p({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function m(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function v(e,t){const n=(await t.json()).error;return d.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function g({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function y(e){const t=await e();return t.status>=500&&t.status<600?e():t}function w(e){return new Promise((t=>{setTimeout(t,e)}))}const b=/^[cdef][\w-]{21}$/;function _(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return b.test(t)?t:""}catch(e){return""}}function I(e){return`${e.appName}!${e.appId}`}const M=new Map;function T(e,t){const n=I(e);E(n,t),function(e,t){const n=(!A&&"BroadcastChannel"in self&&(A=new BroadcastChannel("[Firebase] FID Change"),A.onmessage=e=>{E(e.data.key,e.data.fid)}),A);n&&n.postMessage({key:e,fid:t}),0===M.size&&A&&(A.close(),A=null)}(n,t)}function E(e,t){const n=M.get(e);if(n)for(const e of n)e(t)}let A=null;const k="firebase-installations-store";let S=null;function C(){return S||(S=(0,o.X3)("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(k)}})),S}async function x(e,t){const n=I(e),r=(await C()).transaction(k,"readwrite"),i=r.objectStore(k),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||T(e,t.fid),t}async function P(e){const t=I(e),n=(await C()).transaction(k,"readwrite");await n.objectStore(k).delete(t),await n.done}async function R(e,t){const n=I(e),r=(await C()).transaction(k,"readwrite"),i=r.objectStore(k),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||a&&a.fid===s.fid||T(e,s.fid),s}async function O(e){let t;const n=await R(e.appConfig,(n=>{const r=function(e){return L(e||{fid:_(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(d.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=p(e),i=g(e),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:h,appId:e.appId,sdkVersion:l},o={method:"POST",headers:i,body:JSON.stringify(s)},c=await y((()=>fetch(r,o)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:m(e.authToken)}}throw await v("Create Installation",c)}(e,t);return x(e.appConfig,n)}catch(n){throw f(n)&&409===n.customData.serverCode?await P(e.appConfig):await x(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:N(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function N(e){let t=await D(e.appConfig);for(;1===t.registrationStatus;)await w(100),t=await D(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await O(e);return n||t}return t}function D(e){return R(e,(e=>{if(!e)throw d.create("installation-not-found");return L(e)}))}function L(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function U({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${p(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=g(e);return n.append("Authorization",function(e){return`${h} ${e}`}(t)),n}(e,n),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:l,appId:e.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},c=await y((()=>fetch(r,o)));if(c.ok)return m(await c.json());throw await v("Generate Auth Token",c)}async function F(e,t=!1){let n;const r=await R(e.appConfig,(r=>{if(!q(r))throw d.create("not-registered");const i=r.authToken;if(!t&&(2===(a=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(a)))return r;var a;if(1===i.requestStatus)return n=async function(e,t){let n=await z(e.appConfig);for(;1===n.authToken.requestStatus;)await w(100),n=await z(e.appConfig);const r=n.authToken;return 0===r.requestStatus?F(e,t):r}(e,t),r;{if(!navigator.onLine)throw d.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await U(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await x(e.appConfig,r),n}catch(n){if(!f(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await x(e.appConfig,n)}else await P(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function z(e){return R(e,(e=>{if(!q(e))throw d.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function q(e){return void 0!==e&&2===e.registrationStatus}function j(e){return d.create("missing-app-config-values",{valueName:e})}const V="installations";(0,r.Xd)(new s.wA(V,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw j("App Configuration");if(!e.name)throw j("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw j(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,r.qX)(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),(0,r.Xd)(new s.wA("installations-internal",(e=>{const t=e.getProvider("app").getImmediate(),n=(0,r.qX)(t,V).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await O(t);return r?r.catch(console.error):F(t).catch(console.error),n.fid}(n),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await O(e);t&&await t}(n),(await F(n,t)).token}(n,e)}}),"PRIVATE")),(0,r.KN)(c,u),(0,r.KN)(c,u,"esm2017");const B="analytics",H="https://www.googletagmanager.com/gtag/js",W=new i.Yd("@firebase/analytics");function $(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}const G=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),K=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Y(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function J(e,t=K,n){const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw G.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw G.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Z;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),X({appId:r,apiKey:i,measurementId:a},s,o,t)}async function X(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=K){var s;const{appId:o,measurementId:c}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(G.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(c)return W.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:o,measurementId:c};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Y(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(a,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw G.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return i.deleteThrottleMetadata(o),t}catch(t){const u=t;if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(u)){if(i.deleteThrottleMetadata(o),c)return W.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==u?void 0:u.message}]`),{appId:o,measurementId:c};throw t}const l=503===Number(null===(s=null==u?void 0:u.customData)||void 0===s?void 0:s.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,h),W.debug(`Calling attemptFetch again in ${l} millis`),X(e,h,r,i)}}class Z{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Q,ee;function te(e){ee=e}function ne(e){Q=e}class re{constructor(e){this.app=e}_delete(){return delete ie[this.app.options.appId],Promise.resolve()}}let ie={},ae=[];const se={};let oe,ce,ue="dataLayer",le="gtag",he=!1;function de(e){if(he)throw G.create("already-initialized");e.dataLayerName&&(ue=e.dataLayerName),e.gtagName&&(le=e.gtagName)}function fe(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=G.create("invalid-analytics-context",{errorInfo:t});W.warn(n.message)}}();const r=e.options.appId;if(!r)throw G.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw G.create("no-api-key");W.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ie[r])throw G.create("already-exists",{id:r});if(!he){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ue);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){return async function(i,a,s){try{"event"===i?await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await $(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(e){W.error(e)}}(e,t,n,a,s):"config"===i?await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await $(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(e){W.error(e)}e("config",i,a)}(e,t,n,r,a,s):"consent"===i?e("consent","update",s):e("set",a)}catch(e){W.error(e)}}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(ie,ae,se,ue,le);ce=e,oe=t,he=!0}return ie[r]=async function(e,t,n,r,i,s,o){var c;const u=J(e);u.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&W.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>W.error(e))),t.push(u);const l=async function(){if(!(0,a.hl)())return W.warn(G.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,a.eu)()}catch(e){return W.warn(G.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[h,d]=await Promise.all([u,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(H)&&n.src.includes(e))return n;return null})(s)||function(e,t){const n=document.createElement("script");n.src=`${H}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(s,h.measurementId),ee&&(i("consent","default",ee),te(void 0)),i("js",new Date);const f=null!==(c=null==o?void 0:o.config)&&void 0!==c?c:{};return f.origin="firebase",f.update=!0,null!=d&&(f.firebase_id=d),i("config",h.measurementId,f),Q&&(i("set",Q),ne(void 0)),h.measurementId}(e,ae,se,t,oe,ue,n),new re(e)}function pe(e=(0,r.Mq)()){e=(0,a.m9)(e);const t=(0,r.qX)(e,B);return t.isInitialized()?t.getImmediate():me(e)}function me(e,t={}){const n=(0,r.qX)(e,B);if(n.isInitialized()){const e=n.getImmediate();if((0,a.vZ)(t,n.getOptions()))return e;throw G.create("already-initialized")}return n.initialize({options:t})}async function ve(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return await(0,a.eu)()}catch(e){return!1}}function ge(e,t,n){e=(0,a.m9)(e),async function(e,t,n,r){if(r&&r.global)return e("set",{screen_name:n}),Promise.resolve();e("config",await t,{update:!0,screen_name:n})}(ce,ie[e.app.options.appId],t,n).catch((e=>W.error(e)))}function ye(e,t,n){e=(0,a.m9)(e),async function(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(ce,ie[e.app.options.appId],t,n).catch((e=>W.error(e)))}function we(e,t,n){e=(0,a.m9)(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(ce,ie[e.app.options.appId],t,n).catch((e=>W.error(e)))}function be(e,t){e=(0,a.m9)(e),async function(e,t){const n=await e;window[`ga-disable-${n}`]=!t}(ie[e.app.options.appId],t).catch((e=>W.error(e)))}function _e(e){ce?ce("set",e):ne(e)}function Ie(e,t,n,r){e=(0,a.m9)(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(ce,ie[e.app.options.appId],t,n,r).catch((e=>W.error(e)))}function Me(e){ce?ce("consent","update",e):te(e)}const Te="@firebase/analytics",Ee="0.9.1";(0,r.Xd)(new s.wA(B,((e,{options:t})=>fe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),(0,r.Xd)(new s.wA("analytics-internal",(function(e){try{const t=e.getProvider(B).getImmediate();return{logEvent:(e,n,r)=>Ie(t,e,n,r)}}catch(e){throw G.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),(0,r.KN)(Te,Ee),(0,r.KN)(Te,Ee,"esm2017")},3977:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>r.ZR,SDK_VERSION:()=>r.Jn,_DEFAULT_ENTRY_NAME:()=>r.l4,_addComponent:()=>r.H9,_addOrOverwriteComponent:()=>r.Vr,_apps:()=>r.Af,_clearComponents:()=>r.Z8,_components:()=>r.lz,_getProvider:()=>r.qX,_registerComponent:()=>r.Xd,_removeServiceInstance:()=>r.wN,deleteApp:()=>r.P2,getApp:()=>r.Mq,getApps:()=>r.C6,initializeApp:()=>r.ZF,onLog:()=>r.TP,registerVersion:()=>r.KN,setLogLevel:()=>r.Ub});var r=n(2238);(0,r.KN)("firebase","9.16.0","app")},1305:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionCodeOperation:()=>d,ActionCodeURL:()=>De,AuthCredential:()=>Ae,AuthErrorCodes:()=>v,EmailAuthCredential:()=>xe,EmailAuthProvider:()=>Ue,FacebookAuthProvider:()=>je,FactorId:()=>c,GithubAuthProvider:()=>Be,GoogleAuthProvider:()=>Ve,OAuthCredential:()=>Re,OAuthProvider:()=>qe,OperationType:()=>h,PhoneAuthCredential:()=>Ne,PhoneAuthProvider:()=>Ln,PhoneMultiFactorGenerator:()=>kr,ProviderId:()=>u,RecaptchaVerifier:()=>Cn,SAMLAuthProvider:()=>We,SignInMethod:()=>l,TwitterAuthProvider:()=>$e,applyActionCode:()=>pt,beforeAuthStateChanged:()=>Ft,browserLocalPersistence:()=>Qt,browserPopupRedirectResolver:()=>Tr,browserSessionPersistence:()=>tn,checkActionCode:()=>mt,confirmPasswordReset:()=>ft,connectAuthEmulator:()=>Me,createUserWithEmailAndPassword:()=>gt,debugErrorMap:()=>f,deleteUser:()=>Bt,fetchSignInMethodsForEmail:()=>It,getAdditionalUserInfo:()=>Dt,getAuth:()=>Or,getIdToken:()=>$,getIdTokenResult:()=>G,getMultiFactorResolver:()=>$t,getRedirectResult:()=>rr,inMemoryPersistence:()=>ae,indexedDBLocalPersistence:()=>gn,initializeAuth:()=>C,isSignInWithEmailLink:()=>bt,linkWithCredential:()=>st,linkWithPhoneNumber:()=>Rn,linkWithPopup:()=>$n,linkWithRedirect:()=>nr,multiFactor:()=>Yt,onAuthStateChanged:()=>zt,onIdTokenChanged:()=>Ut,parseActionCodeURL:()=>Le,prodErrorMap:()=>p,reauthenticateWithCredential:()=>ot,reauthenticateWithPhoneNumber:()=>On,reauthenticateWithPopup:()=>Wn,reauthenticateWithRedirect:()=>tr,reload:()=>ee,sendEmailVerification:()=>Mt,sendPasswordResetEmail:()=>dt,sendSignInLinkToEmail:()=>wt,setPersistence:()=>Lt,signInAnonymously:()=>Je,signInWithCredential:()=>at,signInWithCustomToken:()=>ct,signInWithEmailAndPassword:()=>yt,signInWithEmailLink:()=>_t,signInWithPhoneNumber:()=>Pn,signInWithPopup:()=>Hn,signInWithRedirect:()=>er,signOut:()=>Vt,unlink:()=>et,updateCurrentUser:()=>jt,updateEmail:()=>At,updatePassword:()=>kt,updatePhoneNumber:()=>Dn,updateProfile:()=>Et,useDeviceLanguage:()=>qt,verifyBeforeUpdateEmail:()=>Tt,verifyPasswordResetCode:()=>vt});var r=n(4444),i=n(2238),a=n(3333);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create,Object.create;var o=n(8463);const c={PHONE:"phone"},u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},l={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},h={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},d={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const f=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},p=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},m=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),v={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},g=new a.Yd("@firebase/auth");function y(e,...t){g.logLevel<=a.in.ERROR&&g.error(`Auth (${i.Jn}): ${e}`,...t)}function w(e,...t){throw M(e,...t)}function b(e,...t){return M(e,...t)}function _(e,t,n){const i=Object.assign(Object.assign({},p()),{[t]:n});return new r.LL("auth","Firebase",i).create(t,{appName:e.name})}function I(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&w(e,"argument-error"),_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return m.create(e,...t)}function T(e,t,...n){if(!e)throw M(t,...n)}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw y(t),new Error(t)}function A(e,t){e||E(t)}const k=new Map;function S(e){A(e instanceof Function,"Expected a class definition");let t=k.get(e);return t?(A(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,k.set(e,t),t)}function C(e,t){const n=(0,i.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!=t?t:{}))return e;w(e,"already-initialized")}return n.initialize({options:t})}function x(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function P(){return"http:"===R()||"https:"===R()}function R(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class O{constructor(e,t){this.shortDelay=e,this.longDelay=t,A(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(P()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function N(e,t){A(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class D{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},U=new O(3e4,6e4);function F(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function z(e,t,n,i,a={}){return q(e,a,(async()=>{let a={},s={};i&&("GET"===t?s=i:a={body:JSON.stringify(i)});const o=(0,r.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),D.fetch()(V(e,e.config.apiHost,n,o),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},a))}))}async function q(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},L),t);try{const t=new B(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw H(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const t=r.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw H(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw H(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw H(e,"user-disabled",a);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw _(e,o,s);w(e,o)}}catch(t){if(t instanceof r.ZR)throw t;w(e,"network-request-failed")}}async function j(e,t,n,r,i={}){const a=await z(e,t,n,r,i);return"mfaPendingCredential"in a&&w(e,"multi-factor-auth-required",{_serverResponse:a}),a}function V(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?N(e.config,i):`${e.config.apiScheme}://${i}`}class B{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(b(this.auth,"network-request-failed"))),U.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b(e,t,r);return i.customData._tokenResponse=n,i}function W(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function $(e,t=!1){return(0,r.m9)(e).getIdToken(t)}async function G(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),a=Y(i);T(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"==typeof a.firebase?a.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:a,token:i,authTime:W(K(a.auth_time)),issuedAtTime:W(K(a.iat)),expirationTime:W(K(a.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function K(e){return 1e3*Number(e)}function Y(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return y("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(y("Failed to decode base64 JWT payload"),null)}catch(e){return y("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function J(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class X{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Q(e){var t;const n=e.auth,r=await e.getIdToken(),i=await J(e,async function(e,t){return z(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));T(null==i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=(u=e.providerData,l=o,[...u.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var u,l;const h=e.isAnonymous,d=!(e.email&&a.passwordHash||(null==c?void 0:c.length)),f=!!h&&d,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Z(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function ee(e){const t=(0,r.m9)(e);await Q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(void 0!==e.idToken,"internal-error"),T(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Y(e);return T(t,"internal-error"),T(void 0!==t.exp,"internal-error"),T(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return T(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await async function(e,t){const n=await q(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=V(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",D.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new te;return n&&(T("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(T("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(T("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return E("not implemented")}}function ne(e,t){T("string"==typeof e||void 0===e,"internal-error",{appName:t})}class re{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Z(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await J(this,this.stsTokenManager.getToken(this.auth,e));return T(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return G(this,e)}reload(){return ee(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new re(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await J(this,async function(e,t){return z(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,g=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:I}=t;T(y&&I,e,"internal-error");const M=te.fromJSON(this.name,I);T("string"==typeof y,e,"internal-error"),ne(l,e.name),ne(h,e.name),T("boolean"==typeof w,e,"internal-error"),T("boolean"==typeof b,e,"internal-error"),ne(d,e.name),ne(f,e.name),ne(p,e.name),ne(m,e.name),ne(v,e.name),ne(g,e.name);const E=new re({uid:y,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:M,createdAt:v,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new te;r.updateFromServerResponse(t);const i=new re({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Q(i),i}}class ie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ie.type="NONE";const ae=ie;function se(e,t,n){return`firebase:${e}:${t}:${n}`}class oe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=se(this.userKey,r.apiKey,i),this.fullPersistenceKey=se("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?re._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new oe(S(ae),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||S(ae);const a=se(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(a);if(t){const r=re._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(e){}}))),new oe(i,e,n)):new oe(i,e,n)}}function ce(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(de(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pe(t))return"Blackberry";if(me(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||he(t))&&!t.includes("edge/"))return"Chrome";if(fe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ue(e=(0,r.z$)()){return/firefox\//i.test(e)}function le(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function he(e=(0,r.z$)()){return/crios\//i.test(e)}function de(e=(0,r.z$)()){return/iemobile/i.test(e)}function fe(e=(0,r.z$)()){return/android/i.test(e)}function pe(e=(0,r.z$)()){return/blackberry/i.test(e)}function me(e=(0,r.z$)()){return/webos/i.test(e)}function ve(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ge(e=(0,r.z$)()){return ve(e)||fe(e)||me(e)||pe(e)||/windows phone/i.test(e)||de(e)}function ye(e,t=[]){let n;switch(e){case"Browser":n=ce((0,r.z$)());break;case"Worker":n=`${ce((0,r.z$)())}-${e}`;break;default:n=e}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${a}`}class we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class be{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.beforeStateQueue=new we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await oe.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return T(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Q(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&T(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&T(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(S(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&S(e)||this._popupRedirectResolver;T(t,this,"argument-error"),this.redirectPersistenceManager=await oe.create(this,[S(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return T(a,this,"internal-error"),a.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function _e(e){return(0,r.m9)(e)}class Ie{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Me(e,t,n){const r=_e(e);T(r._canInitEmulator,r,"emulator-config-failed"),T(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),a=Te(t),{host:s,port:o}=function(e){const t=Te(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ee(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ee(t)}}}(t),c=null===o?"":`:${o}`;r.config.emulator={url:`${a}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Te(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ee(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ae{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function ke(e,t){return z(e,"POST","/v1/accounts:resetPassword",F(e,t))}async function Se(e,t){return z(e,"POST","/v1/accounts:update",t)}async function Ce(e,t){return z(e,"POST","/v1/accounts:sendOobCode",F(e,t))}class xe extends Ae{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new xe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new xe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return j(e,"POST","/v1/accounts:signInWithPassword",F(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",F(e,t))}(e,{email:this._email,oobCode:this._password});default:w(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Se(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",F(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:w(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pe(e,t){return j(e,"POST","/v1/accounts:signInWithIdp",F(e,t))}class Re extends Ae{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Re(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):w("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Re(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Pe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.xO)(t)}return e}}const Oe={USER_NOT_FOUND:"user-not-found"};class Ne extends Ae{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ne({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ne({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",F(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await j(e,"POST","/v1/accounts:signInWithPhoneNumber",F(e,t));if(n.temporaryProof)throw H(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",F(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Oe)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ne({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class De{constructor(e){var t,n,i,a,s,o;const c=(0,r.zd)((0,r.pd)(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);T(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=c.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,r.zd)((0,r.pd)(e)).link,n=t?(0,r.zd)((0,r.pd)(t)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(e)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||t||e}(e);try{return new De(t)}catch(e){return null}}}function Le(e){return De.parseLink(e)}class Ue{constructor(){this.providerId=Ue.PROVIDER_ID}static credential(e,t){return xe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=De.parseLink(t);return T(n,"argument-error"),xe._fromEmailAndCode(e,n.code,n.tenantId)}}Ue.PROVIDER_ID="password",Ue.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ue.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ze extends Fe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qe extends ze{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return T("providerId"in t&&"signInMethod"in t,"argument-error"),Re._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return T(e.idToken||e.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return qe.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return qe.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:a,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new qe(s)._credential({idToken:t,accessToken:n,nonce:a,pendingToken:i})}catch(e){return null}}}class je extends ze{constructor(){super("facebook.com")}static credential(e){return Re._fromParams({providerId:je.PROVIDER_ID,signInMethod:je.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return je.credentialFromTaggedObject(e)}static credentialFromError(e){return je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return je.credential(e.oauthAccessToken)}catch(e){return null}}}je.FACEBOOK_SIGN_IN_METHOD="facebook.com",je.PROVIDER_ID="facebook.com";class Ve extends ze{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Re._fromParams({providerId:Ve.PROVIDER_ID,signInMethod:Ve.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ve.credentialFromTaggedObject(e)}static credentialFromError(e){return Ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ve.credential(t,n)}catch(e){return null}}}Ve.GOOGLE_SIGN_IN_METHOD="google.com",Ve.PROVIDER_ID="google.com";class Be extends ze{constructor(){super("github.com")}static credential(e){return Re._fromParams({providerId:Be.PROVIDER_ID,signInMethod:Be.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Be.credentialFromTaggedObject(e)}static credentialFromError(e){return Be.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Be.credential(e.oauthAccessToken)}catch(e){return null}}}Be.GITHUB_SIGN_IN_METHOD="github.com",Be.PROVIDER_ID="github.com";class He extends Ae{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Pe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new He(n,i):null}static _create(e,t){return new He(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class We extends Fe{constructor(e){T(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return We.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return We.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=He.fromJSON(e);return T(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return He._create(n,t)}catch(e){return null}}}class $e extends ze{constructor(){super("twitter.com")}static credential(e,t){return Re._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return $e.credential(t,n)}catch(e){return null}}}async function Ge(e,t){return j(e,"POST","/v1/accounts:signUp",F(e,t))}$e.TWITTER_SIGN_IN_METHOD="twitter.com",$e.PROVIDER_ID="twitter.com";class Ke{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await re._fromIdTokenResponse(e,n,r),a=Ye(n);return new Ke({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ye(n);return new Ke({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ye(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function Je(e){var t;const n=_e(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ke({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ge(n,{returnSecureToken:!0}),i=await Ke._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class Xe extends r.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Xe.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Xe(e,t,n,r)}}function Ze(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Xe._fromErrorAndOperation(e,n,t,r);throw n}))}function Qe(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function et(e,t){const n=(0,r.m9)(e);await nt(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return z(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),a=Qe(i||[]);return n.providerData=n.providerData.filter((e=>a.has(e.providerId))),a.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function tt(e,t,n=!1){const r=await J(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ke._forOperation(e,"link",r)}async function nt(e,t,n){await Q(t);const r=!1===e?"provider-already-linked":"no-such-provider";T(Qe(t.providerData).has(n)===e,t.auth,r)}async function rt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const a=await J(e,Ze(r,i,t,e),n);T(a.idToken,r,"internal-error");const s=Y(a.idToken);T(s,r,"internal-error");const{sub:o}=s;return T(e.uid===o,r,"user-mismatch"),Ke._forOperation(e,i,a)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&w(r,"user-mismatch"),e}}async function it(e,t,n=!1){const r="signIn",i=await Ze(e,r,t),a=await Ke._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function at(e,t){return it(_e(e),t)}async function st(e,t){const n=(0,r.m9)(e);return await nt(!1,n,t.providerId),tt(n,t)}async function ot(e,t){return rt((0,r.m9)(e),t)}async function ct(e,t){const n=_e(e),r=await async function(e,t){return j(e,"POST","/v1/accounts:signInWithCustomToken",F(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ke._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ut{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?lt._fromServerResponse(e,t):w(e,"internal-error")}}class lt extends ut{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new lt(t)}}function ht(e,t,n){var r;T((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),T(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(T(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(T(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function dt(e,t,n){const i=(0,r.m9)(e),a={requestType:"PASSWORD_RESET",email:t};n&&ht(i,a,n),await async function(e,t){return Ce(e,t)}(i,a)}async function ft(e,t,n){await ke((0,r.m9)(e),{oobCode:t,newPassword:n})}async function pt(e,t){await async function(e,t){return z(e,"POST","/v1/accounts:update",F(e,t))}((0,r.m9)(e),{oobCode:t})}async function mt(e,t){const n=(0,r.m9)(e),i=await ke(n,{oobCode:t}),a=i.requestType;switch(T(a,n,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":T(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":T(i.mfaInfo,n,"internal-error");default:T(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=ut._fromServerResponse(_e(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:a}}async function vt(e,t){const{data:n}=await mt((0,r.m9)(e),t);return n.email}async function gt(e,t,n){const r=_e(e),i=await Ge(r,{returnSecureToken:!0,email:t,password:n}),a=await Ke._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function yt(e,t,n){return at((0,r.m9)(e),Ue.credential(t,n))}async function wt(e,t,n){const i=(0,r.m9)(e),a={requestType:"EMAIL_SIGNIN",email:t};T(n.handleCodeInApp,i,"argument-error"),n&&ht(i,a,n),await async function(e,t){return Ce(e,t)}(i,a)}function bt(e,t){const n=De.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}async function _t(e,t,n){const i=(0,r.m9)(e),a=Ue.credentialWithLink(t,n||x());return T(a._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),at(i,a)}async function It(e,t){const n={identifier:t,continueUri:P()?x():"http://localhost"},{signinMethods:i}=await async function(e,t){return z(e,"POST","/v1/accounts:createAuthUri",F(e,t))}((0,r.m9)(e),n);return i||[]}async function Mt(e,t){const n=(0,r.m9)(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ht(n.auth,i,t);const{email:a}=await async function(e,t){return Ce(e,t)}(n.auth,i);a!==e.email&&await e.reload()}async function Tt(e,t,n){const i=(0,r.m9)(e),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&ht(i.auth,a,n);const{email:s}=await async function(e,t){return Ce(e,t)}(i.auth,a);s!==e.email&&await e.reload()}async function Et(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.m9)(e),a={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await J(i,async function(e,t){return z(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const o=i.providerData.find((({providerId:e})=>"password"===e));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function At(e,t){return St((0,r.m9)(e),t,null)}function kt(e,t){return St((0,r.m9)(e),null,t)}async function St(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const a=await J(e,Se(r,i));await e._updateTokensIfNecessary(a,!0)}class Ct{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class xt extends Ct{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Pt extends Ct{constructor(e,t){super(e,"facebook.com",t)}}class Rt extends xt{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Ot extends Ct{constructor(e,t){super(e,"google.com",t)}}class Nt extends xt{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Dt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Y(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ct(a,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Pt(a,i);case"github.com":return new Rt(a,i);case"google.com":return new Ot(a,i);case"twitter.com":return new Nt(a,i,e.screenName||null);case"custom":case"anonymous":return new Ct(a,null);default:return new Ct(a,r,i)}}(n)}function Lt(e,t){return(0,r.m9)(e).setPersistence(t)}function Ut(e,t,n,i){return(0,r.m9)(e).onIdTokenChanged(t,n,i)}function Ft(e,t,n){return(0,r.m9)(e).beforeAuthStateChanged(t,n)}function zt(e,t,n,i){return(0,r.m9)(e).onAuthStateChanged(t,n,i)}function qt(e){(0,r.m9)(e).useDeviceLanguage()}function jt(e,t){return(0,r.m9)(e).updateCurrentUser(t)}function Vt(e){return(0,r.m9)(e).signOut()}async function Bt(e){return(0,r.m9)(e).delete()}class Ht{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Ht("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ht("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ht._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ht._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Wt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=_e(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ut._fromServerResponse(n,e)));T(r.mfaPendingCredential,n,"internal-error");const a=Ht._fromMfaPendingCredential(r.mfaPendingCredential);return new Wt(a,i,(async e=>{const i=await e._process(n,a);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Ke._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return T(t.user,n,"internal-error"),Ke._forOperation(t.user,t.operationType,s);default:w(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function $t(e,t){var n;const i=(0,r.m9)(e),a=t;return T(t.customData.operationType,i,"argument-error"),T(null===(n=a.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Wt._fromError(i,a)}class Gt{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ut._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Gt(e)}async getSession(){return Ht._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await J(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await J(this.user,(i=this.user.auth,a={idToken:n,mfaEnrollmentId:t},z(i,"POST","/v2/accounts/mfaEnrollment:withdraw",F(i,a))));var i,a;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==(null==e?void 0:e.code))throw e}}}const Kt=new WeakMap;function Yt(e){const t=(0,r.m9)(e);return Kt.has(t)||Kt.set(t,Gt._fromUser(t)),Kt.get(t)}const Jt="__sak";class Xt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jt,"1"),this.storage.removeItem(Jt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Zt extends Xt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,r.z$)();return le(e)||ve(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zt.type="LOCAL";const Qt=Zt;class en extends Xt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}en.type="SESSION";const tn=en;class nn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new nn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null==a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function rn(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}nn.receivers=[];class an{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const c=rn("",20);r.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function sn(){return window}function on(){return void 0!==sn().WorkerGlobalScope&&"function"==typeof sn().importScripts}const cn="firebaseLocalStorageDb",un="firebaseLocalStorage",ln="fbase_key";class hn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function dn(e,t){return e.transaction([un],t?"readwrite":"readonly").objectStore(un)}function fn(){const e=indexedDB.open(cn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(un,{keyPath:ln})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(un)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cn);return new hn(e).toPromise()}(),t(await fn()))}))}))}async function pn(e,t,n){const r=dn(e,!0).put({[ln]:t,value:n});return new hn(r).toPromise()}function mn(e,t){const n=dn(e,!0).delete(t);return new hn(n).toPromise()}class vn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await fn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return on()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nn._getInstance(on()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new an(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fn();return await pn(e,Jt,"1"),await mn(e,Jt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>pn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=dn(e,!1).get(t),r=await new hn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>mn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=dn(e,!1).getAll();return new hn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vn.type="LOCAL";const gn=vn;function yn(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,a;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(a=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==a?a:document).appendChild(r)}))}function wn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const bn=1e12;class _n{constructor(e){this.auth=e,this.counter=bn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new In(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||bn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||bn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||bn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class In{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;T(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mn=wn("rcb"),Tn=new O(3e4,6e4);class En{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=sn().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return T(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(sn().grecaptcha):new Promise(((n,i)=>{const a=sn().setTimeout((()=>{i(b(e,"network-request-failed"))}),Tn.get());sn()[Mn]=()=>{sn().clearTimeout(a),delete sn()[Mn];const r=sn().grecaptcha;if(!r)return void i(b(e,"internal-error"));const s=r.render;r.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(r)},yn(`https://www.google.com/recaptcha/api.js??${(0,r.xO)({onload:Mn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(a),i(b(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=sn().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class An{async load(e){return new _n(e)}clearedOneInstance(){}}const kn="recaptcha",Sn={theme:"light",type:"image"};class Cn{constructor(e,t=Object.assign({},Sn),n){this.parameters=t,this.type=kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_e(n),this.isInvisible="invisible"===this.parameters.size,T("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;T(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new An:new En,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=sn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){T(P()&&!on(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await z(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);T(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ne._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Pn(e,t,n){const i=_e(e),a=await Nn(i,t,(0,r.m9)(n));return new xn(a,(e=>at(i,e)))}async function Rn(e,t,n){const i=(0,r.m9)(e);await nt(!1,i,"phone");const a=await Nn(i.auth,t,(0,r.m9)(n));return new xn(a,(e=>st(i,e)))}async function On(e,t,n){const i=(0,r.m9)(e),a=await Nn(i.auth,t,(0,r.m9)(n));return new xn(a,(e=>ot(i,e)))}async function Nn(e,t,n){var r;const i=await n.verify();try{let a;if(T("string"==typeof i,e,"argument-error"),T(n.type===kn,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){T("enroll"===t.type,e,"internal-error");const n=await function(e,t){return z(e,"POST","/v2/accounts/mfaEnrollment:start",F(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{T("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;T(n,e,"missing-multi-factor-info");const s=await function(e,t){return z(e,"POST","/v2/accounts/mfaSignIn:start",F(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return z(e,"POST","/v1/accounts:sendVerificationCode",F(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function Dn(e,t){await tt((0,r.m9)(e),t)}class Ln{constructor(e){this.providerId=Ln.PROVIDER_ID,this.auth=_e(e)}verifyPhoneNumber(e,t){return Nn(this.auth,e,(0,r.m9)(t))}static credential(e,t){return Ne._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ln.credentialFromTaggedObject(t)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ne._fromTokenResponse(t,n):null}}function Un(e,t){return t?S(t):(T(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ln.PROVIDER_ID="phone",Ln.PHONE_SIGN_IN_METHOD="phone";class Fn extends Ae{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zn(e){return it(e.auth,new Fn(e),e.bypassAuthState)}function qn(e){const{auth:t,user:n}=e;return T(n,t,"internal-error"),rt(n,new Fn(e),e.bypassAuthState)}async function jn(e){const{auth:t,user:n}=e;return T(n,t,"internal-error"),tt(n,new Fn(e),e.bypassAuthState)}class Vn{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zn;case"linkViaPopup":case"linkViaRedirect":return jn;case"reauthViaPopup":case"reauthViaRedirect":return qn;default:w(this.auth,"internal-error")}}resolve(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){A(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bn=new O(2e3,1e4);async function Hn(e,t,n){const r=_e(e);I(e,t,Fe);const i=Un(r,n);return new Gn(r,"signInViaPopup",t,i).executeNotNull()}async function Wn(e,t,n){const i=(0,r.m9)(e);I(i.auth,t,Fe);const a=Un(i.auth,n);return new Gn(i.auth,"reauthViaPopup",t,a,i).executeNotNull()}async function $n(e,t,n){const i=(0,r.m9)(e);I(i.auth,t,Fe);const a=Un(i.auth,n);return new Gn(i.auth,"linkViaPopup",t,a,i).executeNotNull()}class Gn extends Vn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Gn.currentPopupAction&&Gn.currentPopupAction.cancel(),Gn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return T(e,this.auth,"internal-error"),e}async onExecution(){A(1===this.filter.length,"Popup operations only handle one event");const e=rn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Bn.get())};e()}}Gn.currentPopupAction=null;const Kn=new Map;class Yn extends Vn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Kn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qn(t),r=Zn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Kn.set(this.auth._key(),e)}return this.bypassAuthState||Kn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Jn(e,t){return Zn(e)._set(Qn(t),"true")}function Xn(e,t){Kn.set(e._key(),t)}function Zn(e){return S(e._redirectPersistence)}function Qn(e){return se("pendingRedirect",e.config.apiKey,e.name)}function er(e,t,n){return async function(e,t,n){const r=_e(e);I(e,t,Fe),await r._initializationPromise;const i=Un(r,n);return await Jn(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function tr(e,t,n){return async function(e,t,n){const i=(0,r.m9)(e);I(i.auth,t,Fe),await i.auth._initializationPromise;const a=Un(i.auth,n);await Jn(a,i.auth);const s=await ar(i);return a._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function nr(e,t,n){return async function(e,t,n){const i=(0,r.m9)(e);I(i.auth,t,Fe),await i.auth._initializationPromise;const a=Un(i.auth,n);await nt(!1,i,t.providerId),await Jn(a,i.auth);const s=await ar(i);return a._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function rr(e,t){return await _e(e)._initializationPromise,ir(e,t,!1)}async function ir(e,t,n=!1){const r=_e(e),i=Un(r,t),a=new Yn(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function ar(e){const t=rn(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class sr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!cr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(or(e))}saveEventToCache(e){this.cachedEventUids.add(or(e)),this.lastProcessedEventTime=Date.now()}}function or(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function cr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lr=/^https?/;function hr(e){const t=x(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lr.test(n))return!1;if(ur.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dr=new O(3e4,6e4);function fr(){const e=sn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let pr=null;function mr(e){return pr=pr||function(e){return new Promise(((t,n)=>{var r,i,a;function s(){fr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fr(),n(b(e,"network-request-failed"))},timeout:dr.get()})}if(null===(i=null===(r=sn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=sn().gapi)||void 0===a?void 0:a.load)){const t=wn("iframefcb");return sn()[t]=()=>{gapi.load?s():n(b(e,"network-request-failed"))},yn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw pr=null,e}))}(e),pr}const vr=new O(5e3,15e3),gr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wr(e){const t=e.config;T(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?N(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,a={apiKey:t.apiKey,appName:e.name,v:i.Jn},s=yr.get(e.config.apiHost);s&&(a.eid=s);const o=e._getFrameworks();return o.length&&(a.fw=o.join(",")),`${n}?${(0,r.xO)(a).slice(1)}`}const br={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _r{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ir(e,t,n,a,s,o){T(e.config.authDomain,e,"auth-domain-config-required"),T(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:a,v:i.Jn,eventId:s};if(t instanceof Fe){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))c[e]=t}if(t instanceof ze){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const e of Object.keys(u))void 0===u[e]&&delete u[e];return`${function({config:e}){return e.emulator?N(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,r.xO)(u).slice(1)}`}const Mr="webStorageSupport",Tr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tn,this._completeRedirectFn=ir,this._overrideRedirectResult=Xn}async _openPopup(e,t,n,i){var a;return A(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,a=600){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},br),{width:i.toString(),height:a.toString(),top:s,left:o}),l=(0,r.z$)().toLowerCase();n&&(c=he(l)?"_blank":n),ue(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,r.z$)()){var t;return ve(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new _r(null);const d=window.open(t||"",c,h);T(d,e,"popup-blocked");try{d.focus()}catch(e){}return new _r(d)}(e,Ir(e,t,n,x(),i),rn())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Ir(e,t,n,x(),r),sn().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(A(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await mr(e),n=sn().gapi;return T(n,e,"internal-error"),t.open({where:document.body,url:wr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=b(e,"network-request-failed"),a=sn().setTimeout((()=>{r(i)}),vr.get());function s(){sn().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new sr(e);return t.register("authEvent",(t=>(T(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mr,{type:Mr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Mr];void 0!==i&&t(!!i),w(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return z(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(hr(e))return}catch(e){}w(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ge()||le()||ve()}};class Er{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return E("unexpected MultiFactorSessionType")}}}class Ar extends Er{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ar(e)}_finalizeEnroll(e,t,n){return function(e,t){return z(e,"POST","/v2/accounts/mfaEnrollment:finalize",F(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return z(e,"POST","/v2/accounts/mfaSignIn:finalize",F(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kr{constructor(){}static assertion(e){return Ar._fromCredential(e)}}kr.FACTOR_ID="phone";var Sr="@firebase/auth",Cr="0.21.1";class xr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pr=(0,r.Pz)("authIdTokenMaxAge")||300;let Rr=null;function Or(e=(0,i.Mq)()){const t=(0,i.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=C(e,{popupRedirectResolver:Tr,persistence:[gn,Qt,tn]}),a=(0,r.Pz)("authTokenSyncURL");if(a){const e=(s=a,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pr)return;const r=null==t?void 0:t.token;Rr!==r&&(Rr=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});Ft(n,e,(()=>e(n.currentUser))),Ut(n,(t=>e(t)))}var s;const o=(0,r.q4)("auth");return o&&Me(n,`http://${o}`),n}var Nr;Nr="Browser",(0,i.Xd)(new o.wA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:a}=n.options;return((e,n)=>{T(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),T(!(null==a?void 0:a.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:a,clientPlatform:Nr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(Nr)},s=new be(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new o.wA("auth-internal",(e=>{return t=_e(e.getProvider("auth").getImmediate()),new xr(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(Sr,Cr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Nr)),(0,i.KN)(Sr,Cr,"esm2017")},4424:(e,t,n)=>{"use strict";let r,i;n.d(t,{X3:()=>p});const a=new WeakMap,s=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap;let l={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||o.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(f(this),e),d(a.get(this))}:function(...e){return d(t.apply(f(this),e))}:function(e,...n){const r=t.call(f(this),e,...n);return o.set(r,e.sort?e.sort():[e]),d(r)}:(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));s.set(e,t)}(e),n=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,l):e);var t,n}function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(d(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=h(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const f=e=>u.get(e);function p(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=d(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(d(s.result),e.oldVersion,e.newVersion,d(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}const m=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],g=new Map;function y(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(g.get(t))return g.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!m.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&a.done]))[0]};return g.set(t,a),a}var w;w=l,l={...w,get:(e,t,n)=>y(e,t)||w.get(e,t,n),has:(e,t)=>!!y(e,t)||w.has(e,t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0});const t=n(2232),i=n(1625),a=n(5451),s=n(5817),o=n(256),c=n(5663),u=n(2258);var l,h,d=null,f=null;function p(){d&&(document.getElementById("backward").disabled=d.cur_pos<=0,document.getElementById("forward").disabled=d.cur_pos>=d.history.length-1)}function m(e){let t=document.getElementById(l.text_id);t?null!=e&&null!=e&&(t.textContent+=e):console.log("missing textDom: ",l.text_id)}(0,i.mw)((0,t.wasi)(),"/mw.wasm",m,!0,(function(e,t,n){let r=document.getElementById(l.canvas_id);if(!r)return;let i=r.getContext("2d");if(!i)return;r.width=t,r.height=n;let a=i.createImageData(t,n);a.data.set(e),i.putImageData(a,0,0)})).then((e=>{(function(e,t){let n=document.getElementById("version");n&&(n.textContent=t)})(0,(l=e).version),function(){const e=e=>{let t=l.highlight_code(e.textContent);e.innerHTML=t};let t=document.getElementById("code-editor");if(t){f=(0,o.CodeJar)(t,(0,c.withLineNumbers)(e));l.text_id=t.dataset.text||"",f.updateCode('print "plot a mandelbrot set"\n    \nlet plot_mandelbrot_set x0:f64 y0:f64 x1:f64 y1:f64 =\n    let width = 400, height = 300\n    var a:u8[height][width * 4]\n    let scalex = (x1-x0)/width, scaley = (y1-y0)/height, max_iter = 510\n    var v = 0.0, r = 0.0, g = 0.0, b = 0.0\n    for x in 0..width\n        for y in 0..height\n            let cx = x0 + scalex*x\n            let cy = y0 + scaley*y\n            var zx = 0.0, zy = 0.0\n            var zx2 = 0.0, zy2 = 0.0\n            var n = 0\n            while n<max_iter && (zx2 + zy2) < 4.0\n                zy = 2.0 * zx * zy + cy\n                zx = zx2  - zy2 + cx\n                zx2 = zx * zx\n                zy2 = zy * zy\n                n++\n            if n < max_iter then\n                v = (log(n+1.5-(log2((log(zx2+zy2))/2.0))))/3.4\n                if v < 1.0 then \n                    r = v ** 4;g = v ** 2.5;b = v\n                else\n                    v = v < 2.0 ? 2.0 - v : 0.0\n                    r = v;g = v ** 1.5;b = v ** 3.0\n            a[y][4*x] = n == max_iter ? 0 : (u8)(r * 255)\n            a[y][4*x+1] = n == max_iter ? 0 : (u8)(g * 255)\n            a[y][4*x+2] = n == max_iter ? 0 : (u8)(b * 255)\n            a[y][4*x+3] = 255\n\n    setImageData a width height\n\nplot_mandelbrot_set (-2.0) (-1.2) 1.0 1.2\n    ')}else t=document.getElementById("webgpu-code-editor"),t&&(f=(0,o.CodeJar)(t,(0,c.withLineNumbers)(e)))}()})),window.onload=function(){var e=(0,s.get_app)((function(n,r){if(!t)return;let i=document.getElementById("signout");if(n){t.innerHTML=r?`<img src="${r}" style="vertical-align: middle;width:35px;height:35px;border-radius: 50%;">`:n,t.style.borderStyle="none";let a=document.getElementById("avatar");a&&e.auth.currentUser&&e.auth.currentUser.photoURL&&(a.src=e.auth.currentUser.photoURL);let o=document.getElementById("displayname");o&&(o.textContent=n),i&&i.addEventListener("click",(()=>(0,s.signout)(e)))}else t.innerHTML="Sign in with Github",t.style.borderStyle="solid",t.style.borderRadius="5px",i&&(window.location.href="/")})),t=document.getElementById("user");if(!t)return;t.onclick=()=>{e.auth.currentUser?window.location.href="/user/profile.html":(0,s.signin)(e)},(0,u.draw_surface)(),document.querySelectorAll("button[data-run]").forEach((e=>{let t=e;t.addEventListener("click",(e=>{!function(e){let t=e+"_result",n=e+"_graph_result";var r;(function(e,t){let n=document.getElementById(e),r=document.getElementById(t);if(n&&(n.textContent=""),!r)return;const i=r.getContext("2d");i&&i.clearRect(0,0,r.width,r.height)})(t,n),null!=h&&null!=h.code_bytes&&(0,l.mw_instance.exports.free)(h.code_bytes),r=f?f.toString():document.getElementById(e).value,l.canvas_id=n,l.text_id=t,m((h=l.run_code(r,!1)).start_result),d&&(d.init(),p())}(t.dataset.run||"")}))}));var n=document.getElementById("backward");n&&n.addEventListener("click",(function(){d&&d.backward()}));var r=document.getElementById("forward");r&&r.addEventListener("click",(function(){d&&d.forward()}));let i=document.getElementById("canvas_container");i&&(d=(0,a.initZoom)(i,(function(e,t,n,r){(0,h.code_instance.exports.plot_mandelbrot_set)(e,t,n,r),p()}),-2,-1.2,1,1.2,400,300)),n&&r&&p()}})(),m=r})();
//# sourceMappingURL=main.bundle.js.map